<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack-1 å…¥é—¨ | conanan&#39;s blog</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/img/favicon.ico">
    <script data-ad-client="ca-pub-7828333725993554" async="async" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="webå‰ç«¯æŠ€æœ¯åšå®¢,ç®€æ´è‡³ä¸Š,ä¸“æ³¨webå‰ç«¯å­¦ä¹ ä¸æ€»ç»“ã€‚JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,githubç­‰æŠ€æœ¯æ–‡ç« ã€‚">
    <meta name="keywords" content="å‰ç«¯åšå®¢,ä¸ªäººæŠ€æœ¯åšå®¢,å‰ç«¯,å‰ç«¯å¼€å‘,å‰ç«¯æ¡†æ¶,webå‰ç«¯,å‰ç«¯é¢è¯•é¢˜,æŠ€æœ¯æ–‡æ¡£,å­¦ä¹ ,é¢è¯•,JavaScript,js,ES6,TypeScript,vue,python,css3,html5,Node,git,github,markdown">
    <meta name="baidu-site-verification" content="7F55weZDDc">
    <meta name="theme-color" content="#11a8cd">
    <link rel="preload" href="/assets/css/0.styles.8d0d8388.css" as="style"><link rel="preload" href="/assets/js/app.b0138120.js" as="script"><link rel="preload" href="/assets/js/2.d80cefae.js" as="script"><link rel="preload" href="/assets/js/10.dc3d9276.js" as="script"><link rel="prefetch" href="/assets/js/100.885513b6.js"><link rel="prefetch" href="/assets/js/101.1e7278f4.js"><link rel="prefetch" href="/assets/js/102.b6dcc8fb.js"><link rel="prefetch" href="/assets/js/103.528f8eed.js"><link rel="prefetch" href="/assets/js/104.40d208e6.js"><link rel="prefetch" href="/assets/js/105.c82648b8.js"><link rel="prefetch" href="/assets/js/106.dba6d0be.js"><link rel="prefetch" href="/assets/js/107.cedf6da7.js"><link rel="prefetch" href="/assets/js/108.2ef09b1b.js"><link rel="prefetch" href="/assets/js/11.363561ee.js"><link rel="prefetch" href="/assets/js/12.c08a1849.js"><link rel="prefetch" href="/assets/js/13.94fa3f25.js"><link rel="prefetch" href="/assets/js/14.07b06a30.js"><link rel="prefetch" href="/assets/js/15.f4f8f70e.js"><link rel="prefetch" href="/assets/js/16.6c45cbf1.js"><link rel="prefetch" href="/assets/js/17.ee5fea10.js"><link rel="prefetch" href="/assets/js/18.ec09ca38.js"><link rel="prefetch" href="/assets/js/19.3ad2963a.js"><link rel="prefetch" href="/assets/js/20.4c96a222.js"><link rel="prefetch" href="/assets/js/21.4f4232eb.js"><link rel="prefetch" href="/assets/js/22.146df052.js"><link rel="prefetch" href="/assets/js/23.038c69c1.js"><link rel="prefetch" href="/assets/js/24.75baf5ec.js"><link rel="prefetch" href="/assets/js/25.5ba0d14a.js"><link rel="prefetch" href="/assets/js/26.06fb0d23.js"><link rel="prefetch" href="/assets/js/27.26280f9a.js"><link rel="prefetch" href="/assets/js/28.051ce132.js"><link rel="prefetch" href="/assets/js/29.1b884f3e.js"><link rel="prefetch" href="/assets/js/3.bb117ab4.js"><link rel="prefetch" href="/assets/js/30.00741406.js"><link rel="prefetch" href="/assets/js/31.b9f8a50c.js"><link rel="prefetch" href="/assets/js/32.712c7397.js"><link rel="prefetch" href="/assets/js/33.9ac50bd5.js"><link rel="prefetch" href="/assets/js/34.c993ce11.js"><link rel="prefetch" href="/assets/js/35.aa523051.js"><link rel="prefetch" href="/assets/js/36.867491f8.js"><link rel="prefetch" href="/assets/js/37.f086ba27.js"><link rel="prefetch" href="/assets/js/38.4e6305ba.js"><link rel="prefetch" href="/assets/js/39.ac90ba32.js"><link rel="prefetch" href="/assets/js/4.f3359245.js"><link rel="prefetch" href="/assets/js/40.9dbebe52.js"><link rel="prefetch" href="/assets/js/41.a863ef3c.js"><link rel="prefetch" href="/assets/js/42.a2a33607.js"><link rel="prefetch" href="/assets/js/43.10bf784c.js"><link rel="prefetch" href="/assets/js/44.9d15f1c1.js"><link rel="prefetch" href="/assets/js/45.e5be83aa.js"><link rel="prefetch" href="/assets/js/46.34d396d0.js"><link rel="prefetch" href="/assets/js/47.ef6ca13f.js"><link rel="prefetch" href="/assets/js/48.b2672a6c.js"><link rel="prefetch" href="/assets/js/49.c980a145.js"><link rel="prefetch" href="/assets/js/5.e3f8b7a1.js"><link rel="prefetch" href="/assets/js/50.955b2e87.js"><link rel="prefetch" href="/assets/js/51.1dc306e8.js"><link rel="prefetch" href="/assets/js/52.30175cf0.js"><link rel="prefetch" href="/assets/js/53.9f5e354e.js"><link rel="prefetch" href="/assets/js/54.a0ee32a4.js"><link rel="prefetch" href="/assets/js/55.791dfdc4.js"><link rel="prefetch" href="/assets/js/56.0aeae934.js"><link rel="prefetch" href="/assets/js/57.19d4027b.js"><link rel="prefetch" href="/assets/js/58.db0ccb73.js"><link rel="prefetch" href="/assets/js/59.094d8a04.js"><link rel="prefetch" href="/assets/js/6.eb5855a5.js"><link rel="prefetch" href="/assets/js/60.544a6e5e.js"><link rel="prefetch" href="/assets/js/61.81723a35.js"><link rel="prefetch" href="/assets/js/62.ae4f95a6.js"><link rel="prefetch" href="/assets/js/63.2e7c49a9.js"><link rel="prefetch" href="/assets/js/64.f6c40255.js"><link rel="prefetch" href="/assets/js/65.5630404b.js"><link rel="prefetch" href="/assets/js/66.13ec5f73.js"><link rel="prefetch" href="/assets/js/67.3639299c.js"><link rel="prefetch" href="/assets/js/68.1797535c.js"><link rel="prefetch" href="/assets/js/69.25b8e72f.js"><link rel="prefetch" href="/assets/js/7.a18b92bd.js"><link rel="prefetch" href="/assets/js/70.0821abbb.js"><link rel="prefetch" href="/assets/js/71.ece39714.js"><link rel="prefetch" href="/assets/js/72.dc07dbdd.js"><link rel="prefetch" href="/assets/js/73.f35507ce.js"><link rel="prefetch" href="/assets/js/74.577371a2.js"><link rel="prefetch" href="/assets/js/75.beea64bf.js"><link rel="prefetch" href="/assets/js/76.e494a310.js"><link rel="prefetch" href="/assets/js/77.e523ee43.js"><link rel="prefetch" href="/assets/js/78.4bbc5e55.js"><link rel="prefetch" href="/assets/js/79.fd3f0af4.js"><link rel="prefetch" href="/assets/js/8.8bc9769a.js"><link rel="prefetch" href="/assets/js/80.bbc8dad6.js"><link rel="prefetch" href="/assets/js/81.faf2752a.js"><link rel="prefetch" href="/assets/js/82.feac072c.js"><link rel="prefetch" href="/assets/js/83.130011e2.js"><link rel="prefetch" href="/assets/js/84.49d39985.js"><link rel="prefetch" href="/assets/js/85.d49c8c5a.js"><link rel="prefetch" href="/assets/js/86.d3364047.js"><link rel="prefetch" href="/assets/js/87.35f22232.js"><link rel="prefetch" href="/assets/js/88.4f8901e9.js"><link rel="prefetch" href="/assets/js/89.69284283.js"><link rel="prefetch" href="/assets/js/9.545ebf46.js"><link rel="prefetch" href="/assets/js/90.5cd68841.js"><link rel="prefetch" href="/assets/js/91.2731ffe5.js"><link rel="prefetch" href="/assets/js/92.ea2d1fdf.js"><link rel="prefetch" href="/assets/js/93.e487fb35.js"><link rel="prefetch" href="/assets/js/94.0b285ccf.js"><link rel="prefetch" href="/assets/js/95.56698d72.js"><link rel="prefetch" href="/assets/js/96.87718e62.js"><link rel="prefetch" href="/assets/js/97.e9f38e2c.js"><link rel="prefetch" href="/assets/js/98.2043d677.js"><link rel="prefetch" href="/assets/js/99.c7c3208b.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8d0d8388.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="ç›®å½•" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/EB-logo.png" alt="conanan's blog" class="logo"> <span class="site-name can-hide">conanan's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/pages/fa842a/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fa842a/" class="nav-link">H5&amp;CSS3</a></li><li class="dropdown-item"><!----> <a href="/pages/84d48a/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/pages/b62d08/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/pages/6f1f8f/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/pages/b41819/" class="nav-link">Vue2</a></li><li class="dropdown-item"><!----> <a href="/pages/347f26/" class="nav-link">Vue3</a></li><li class="dropdown-item"><!----> <a href="/pages/00b1d8/" class="nav-link">å¾®ä¿¡å°ç¨‹åº</a></li><li class="dropdown-item"><!----> <a href="/pages/e2b92d/.html" class="nav-link">Andorid</a></li><li class="dropdown-item"><!----> <a href="/pages/e2b92d/.html" class="nav-link">Flutter</a></li></ul></div></div><div class="nav-item"><a href="/pages/d80ad7/" class="nav-link">æ¨è</a></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="http://img.crcz.com/allimg/202003/21/1584787461294466.jpg"> <div class="blogger-info"><h3>Conanan</h3> <span>å‰ç«¯ç¬”è®°</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">é¦–é¡µ</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç´¢å¼•" class="dropdown-title"><a href="/archives/" class="link-title">ç´¢å¼•</a> <span class="title" style="display:none;">ç´¢å¼•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">åˆ†ç±»</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">æ ‡ç­¾</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">å½’æ¡£</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Front End" class="dropdown-title"><a href="/pages/fa842a/" class="link-title">Front End</a> <span class="title" style="display:none;">Front End</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/fa842a/" class="nav-link">H5&amp;CSS3</a></li><li class="dropdown-item"><!----> <a href="/pages/84d48a/" class="nav-link">JS</a></li><li class="dropdown-item"><!----> <a href="/pages/b62d08/" class="nav-link">Node</a></li><li class="dropdown-item"><!----> <a href="/pages/6f1f8f/" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/pages/b41819/" class="nav-link">Vue2</a></li><li class="dropdown-item"><!----> <a href="/pages/347f26/" class="nav-link">Vue3</a></li><li class="dropdown-item"><!----> <a href="/pages/00b1d8/" class="nav-link">å¾®ä¿¡å°ç¨‹åº</a></li><li class="dropdown-item"><!----> <a href="/pages/e2b92d/.html" class="nav-link">Andorid</a></li><li class="dropdown-item"><!----> <a href="/pages/e2b92d/.html" class="nav-link">Flutter</a></li></ul></div></div><div class="nav-item"><a href="/pages/d80ad7/" class="nav-link">æ¨è</a></div> <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack5</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Webpack3</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/e2b92d/" aria-current="page" class="active sidebar-link">Webpack-1 å…¥é—¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e2b92d/#æ¦‚å¿µ" class="sidebar-link">æ¦‚å¿µ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e2b92d/#ç®€ä»‹" class="sidebar-link">ç®€ä»‹</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#ä¼˜ç¼ºç‚¹" class="sidebar-link">ä¼˜ç¼ºç‚¹</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#å’Œ-grunt-gulp-å¯¹æ¯”" class="sidebar-link">å’Œ grunt / gulp å¯¹æ¯”</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#å®‰è£…" class="sidebar-link">å®‰è£…</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e2b92d/#å±€éƒ¨å®‰è£…" class="sidebar-link">å±€éƒ¨å®‰è£…</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#å…¨å±€å®‰è£…" class="sidebar-link">å…¨å±€å®‰è£…</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#åŸºæœ¬ä½¿ç”¨-æ‰“åŒ…-js" class="sidebar-link">åŸºæœ¬ä½¿ç”¨â€”æ‰“åŒ… JS</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#é…ç½®-webpack-config-js" class="sidebar-link">é…ç½®â€”webpack.config.js</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#loader-ğŸ”¥" class="sidebar-link">loader ğŸ”¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e2b92d/#æ‰“åŒ…-css" class="sidebar-link">æ‰“åŒ… CSS</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#æ‰“åŒ…-lessã€scssã€stylus" class="sidebar-link">æ‰“åŒ… lessã€scssã€stylus</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#æ‰“åŒ…å›¾ç‰‡" class="sidebar-link">æ‰“åŒ…å›¾ç‰‡</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#babel" class="sidebar-link">babel</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#vue-é…åˆ-webpack-ä½¿ç”¨-ğŸ”¥" class="sidebar-link">Vueâ€”é…åˆ webpack ä½¿ç”¨ ğŸ”¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e2b92d/#é…ç½®" class="sidebar-link">é…ç½®</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#el-å’Œ-template-åŒºåˆ«" class="sidebar-link">el å’Œ template åŒºåˆ«</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#ç»ˆæä½¿ç”¨" class="sidebar-link">ç»ˆæä½¿ç”¨</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#plugin" class="sidebar-link">plugin</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/e2b92d/#banner" class="sidebar-link">banner</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#htmlwebpackplugin-ğŸ”¥" class="sidebar-link">HtmlWebpackPlugin ğŸ”¥</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#uglifyjs-å‹ç¼©-ğŸ”¥" class="sidebar-link">uglifyjs å‹ç¼© ğŸ”¥</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#webpack-dev-server-ğŸ”¥" class="sidebar-link">webpack-dev-server ğŸ”¥</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#é…ç½®æ–‡ä»¶åˆ†ç¦»-ğŸ”¥" class="sidebar-link">é…ç½®æ–‡ä»¶åˆ†ç¦» ğŸ”¥</a></li><li class="sidebar-sub-header"><a href="/pages/e2b92d/#å…¶ä»–ï¼ˆæ—§ï¼‰" class="sidebar-link">å…¶ä»–ï¼ˆæ—§ï¼‰</a></li></ul></li></ul></section></li></ul> <div class="sidebar-slot sidebar-slot-bottom"><!-- æ­£æ–¹å½¢ -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="3508773082"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div></aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-33863c7e><div class="articleInfo" data-v-33863c7e><ul class="breadcrumbs" data-v-33863c7e><li data-v-33863c7e><a href="/" title="é¦–é¡µ" class="iconfont icon-home router-link-active" data-v-33863c7e></a></li> <li data-v-33863c7e><a href="/categories/?category=Webpack" title="åˆ†ç±»" data-v-33863c7e>Webpack</a></li> <li data-v-33863c7e><a href="/categories/?category=Webpack3" title="åˆ†ç±»" data-v-33863c7e>Webpack3</a></li> <!----></ul> <div class="info" data-v-33863c7e><div title="ä½œè€…" class="author iconfont icon-touxiang" data-v-33863c7e><a href="https://github.com/apple54whn" target="_blank" title="ä½œè€…" class="beLink" data-v-33863c7e>conanan</a></div> <div title="åˆ›å»ºæ—¶é—´" class="date iconfont icon-riqi" data-v-33863c7e><a href="javascript:;" data-v-33863c7e>2020-12-27</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">
          Webpack-1 å…¥é—¨
        </h1> <div class="page-slot page-slot-top"><!-- å›ºå®š100% * 90pxå¯æ˜¾ç¤ºï¼Œmax-height:90pxæœªè§æ˜¾ç¤º-->
     <ins class="adsbygoogle"
          style="display:inline-block;width:100%;max-height:90px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6625304284"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="theme-vdoing-content content__default"><h1 id="å…¥é—¨"><a href="#å…¥é—¨" class="header-anchor">#</a> å…¥é—¨</h1> <p>é…å¥—çš„ä»£ç åœ¨ Github ä¸­ã€‚</p> <p>å¯æŸ¥çœ‹<a href="https://www.webpackjs.com/" target="_blank" rel="noopener noreferrer">ä¸­æ–‡æ–‡æ¡£<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œ<a href="https://webpack.js.org/" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚æ³¨æ„ä¸¤è€…åŒºåˆ«ã€‚</p> <h2 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="header-anchor">#</a> æ¦‚å¿µ</h2> <h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="header-anchor">#</a> ç®€ä»‹</h3> <p>æœ¬è´¨ä¸Šï¼Œ<strong>webpack</strong> æ˜¯ä¸€ä¸ªç”¨äºç°ä»£ JavaScript åº”ç”¨ç¨‹åºçš„<strong>é™æ€æ¨¡å—æ‰“åŒ…å·¥å…·</strong>ã€‚å½“ webpack å¤„ç†åº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒä¼šåœ¨å†…éƒ¨æ„å»ºä¸€ä¸ª <a href="https://webpack.docschina.org/concepts/dependency-graph/" target="_blank" rel="noopener noreferrer">ä¾èµ–å›¾(dependency graph)<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œæ­¤ä¾èµ–å›¾å¯¹åº”æ˜ å°„åˆ°é¡¹ç›®æ‰€éœ€çš„æ¯ä¸ªæ¨¡å—ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªæˆ–å¤šä¸ª <strong>bundle</strong>ã€‚</p> <p><img src="/assets/img/image-20200614121215477.9c610ae7.png" alt="image-20200614121215477"></p> <p><strong>é™æ€æ¨¡å— + æ‰“åŒ…</strong></p> <ul><li>åœ¨ ES6 ä¹‹å‰ï¼Œè¿›è¡Œæ¨¡å—åŒ–å¼€å‘æ—¶å¿…é¡»å€ŸåŠ©å…¶ä»–å·¥å…·ï¼Œå¦‚ CommonJSã€‚é€šè¿‡æ¨¡å—åŒ–å¼€å‘å®Œé¡¹ç›®åï¼Œè¿˜éœ€å¤„ç†æ¨¡å—é—´çš„ä¾èµ–</li> <li>å°†å„æ¨¡å—è¿›è¡Œæ‰“åŒ…æ•´åˆï¼Œå¤„ç†ä¸ºå¤§éƒ¨åˆ†æµè§ˆå™¨èƒ½è¯†åˆ«çš„ä»£ç ã€èµ„æº</li></ul> <h3 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="header-anchor">#</a> ä¼˜ç¼ºç‚¹</h3> <h4 id="ä¼˜ç‚¹"><a href="#ä¼˜ç‚¹" class="header-anchor">#</a> ä¼˜ç‚¹</h4> <ul><li><p><strong>æ¨¡å—åŒ–å¼€å‘</strong></p> <p>ç¨‹åºå‘˜åœ¨å¼€å‘æ—¶å¯ä»¥åˆ†æ¨¡å—åˆ›å»ºä¸åŒçš„ jsã€ css ç­‰å°æ–‡ä»¶æ–¹ä¾¿å¼€å‘ï¼Œæœ€åä½¿ç”¨ webpack å°†è¿™äº›å°æ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œ<strong>å‡å°‘äº† http çš„è¯·æ±‚æ¬¡æ•°</strong>ã€‚webpack å¯ä»¥å®ç°æŒ‰éœ€æ‰“åŒ…ï¼Œä¸ºäº†é¿å…å‡ºç°æ‰“åŒ…æ–‡ä»¶è¿‡å¤§å¯ä»¥æ‰“åŒ…æˆå¤šä¸ªæ–‡ä»¶ã€‚</p></li> <li><p><strong>ç¼–è¯‘ typescriptã€ES6 ç­‰é«˜çº§ js è¯­æ³•</strong></p></li> <li><p><strong>CSS é¢„ç¼–è¯‘</strong></p> <p>webpack å…è®¸åœ¨å¼€å‘ä¸­ä½¿ç”¨ Sass å’Œ Less ç­‰åŸç”Ÿ CSS çš„æ‰©å±•æŠ€æœ¯ï¼Œé€šè¿‡ sass-loaderã€less-loader å°† Sass å’Œ Less çš„è¯­æ³•ç¼–è¯‘æˆæµè§ˆå™¨å¯è¯†åˆ«çš„ CSS è¯­æ³•ã€‚</p></li></ul> <h4 id="ç¼ºç‚¹"><a href="#ç¼ºç‚¹" class="header-anchor">#</a> ç¼ºç‚¹</h4> <ul><li>é…ç½®æœ‰äº›ç¹çï¼Œæ–‡æ¡£ä¸ä¸°å¯Œ</li></ul> <h3 id="å’Œ-grunt-gulp-å¯¹æ¯”"><a href="#å’Œ-grunt-gulp-å¯¹æ¯”" class="header-anchor">#</a> å’Œ grunt / gulp å¯¹æ¯”</h3> <ul><li>grunt / gulp æ ¸å¿ƒä¸º Taskï¼Œä¸»è¦ç”¨äºç®€å•çš„åˆå¹¶ã€å‹ç¼©ã€‚æ›´å¼ºè°ƒå‰ç«¯æµç¨‹çš„è‡ªåŠ¨åŒ–ã€æ¨¡å—åŒ–ä¸æ˜¯å®ƒçš„æ ¸å¿ƒ</li> <li>Webpack æ›´åŠ å¼ºè°ƒæ¨¡å—åŒ–å¼€å‘ç®¡ç†ï¼Œæ–‡ä»¶åˆå¹¶ã€å‹ç¼©ã€é¢„å¤„ç†æ˜¯é™„å¸¦åŠŸèƒ½</li></ul> <h2 id="å®‰è£…"><a href="#å®‰è£…" class="header-anchor">#</a> å®‰è£…</h2> <p>Webpack ä¾èµ– Nodeï¼ŒNode ä¼šè‡ªåŠ¨å®‰è£… npmã€‚ä¸€èˆ¬æ¨èå…ˆå¯¹é¡¹ç›®è¿›è¡Œ<code>npn init</code>æˆ–<code>npm install</code></p> <h3 id="å±€éƒ¨å®‰è£…"><a href="#å±€éƒ¨å®‰è£…" class="header-anchor">#</a> å±€éƒ¨å®‰è£…</h3> <p>åœ¨ package.json ä¸­å®šä¹‰ scripts ä¸­çš„ webpack å‘½ä»¤ï¼Œé¦–å…ˆæŸ¥æ‰¾ä½¿ç”¨çš„æ˜¯å±€éƒ¨å®‰è£…çš„ webpackï¼Œåœ¨ node_modules/bin ä¸­ã€‚å‘½ä»¤è¡Œä¸­ä¹Ÿæ˜¯å…ˆæŸ¥æ‰¾é¡¹ç›®ä¸­çš„ webpackã€‚ç±»æ¯” DNS</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ç›®å½•
<span class="token comment"># --save-dev æ˜¯å¼€å‘æ—¶ä¾èµ–ï¼Œé¡¹ç›®æ‰“åŒ…åä¸éœ€è¦ç»§ç»­ä½¿ç”¨</span>
<span class="token function">npm</span> <span class="token function">install</span> --save-dev webpack
<span class="token comment"># æˆ–æŒ‡å®šç‰ˆæœ¬</span>
<span class="token function">npm</span> <span class="token function">install</span> --save-dev webpack@<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span>

<span class="token comment"># å®‰è£…åæŸ¥çœ‹ç‰ˆæœ¬å·ï¼Œéœ€è¦æ‰¾åˆ°å®‰è£…çš„ç›®å½•ï¼Œå¦‚ node_modules/webpack/binï¼Œè¿›å…¥å</span>
./webpack.js -v
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev webpack@3.7.0 <span class="token comment">#æœ¬åœ°å®‰è£… Webpack 3.6.0ï¼Œå› ä¸º vue cli2 ä¾èµ–è¯¥ç‰ˆæœ¬ã€‚æ­¤å¤„æ”¹ä¸º3.7.0æ˜¯ä¸ºäº†åŒºåˆ†</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="å…¨å±€å®‰è£…"><a href="#å…¨å±€å®‰è£…" class="header-anchor">#</a> å…¨å±€å®‰è£…</h3> <p>ä¸€èˆ¬ä¸æ¨èï¼Œä½†æ˜¯åœ¨ä½¿ç”¨å‘½ä»¤å­¦ä¹ æ—¶æ¯ä¸ªæ–‡ä»¶å¤¹éƒ½è¦å±€éƒ¨å®‰è£…çš„è¯å¤ªéº»çƒ¦äº†</p> <p>å…¨å±€å®‰è£…ä¹‹ååœ¨ç»ˆç«¯æ‰§è¡Œ webpack å‘½ä»¤ï¼Œå°±ä½¿ç”¨çš„æ˜¯å…¨å±€å®‰è£…çš„ webpack ã€‚æ³¨æ„ï¼š4.0 ä»¥åçš„ç‰ˆæœ¬éœ€è¦å®‰è£… webpack-clã€‚</p> <p>æœ¬åœ°å®‰è£…åªéœ€å»æ‰<code>-g</code>ï¼Œå³å¯åœ¨å½“å‰ç›®å½•å®‰è£…</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack -g
<span class="token comment"># 4.0åçš„ç‰ˆæœ¬éœ€è¦å®‰è£… webpack-cl</span>
<span class="token function">npm</span> <span class="token function">install</span> webpack-cli -g
<span class="token comment"># å¯ä»¥æŒ‡å®šç‰ˆæœ¬</span>
<span class="token function">npm</span> <span class="token function">install</span> webpack@<span class="token operator">&lt;</span>version<span class="token operator">&gt;</span> -g <span class="token comment">#å…¨å±€å®‰è£… Webpack 3.6.0ï¼Œå› ä¸º vue cli2 ä¾èµ–è¯¥ç‰ˆæœ¬ã€‚</span>


<span class="token comment"># å®‰è£…åæŸ¥çœ‹ç‰ˆæœ¬å·</span>
webpack -v
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack@3.6.0 -g <span class="token comment">#å…¨å±€å®‰è£… Webpack 3.6.0ï¼Œå› ä¸º vue cli2 ä¾èµ–è¯¥ç‰ˆæœ¬ã€‚</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="åŸºæœ¬ä½¿ç”¨-æ‰“åŒ…-js"><a href="#åŸºæœ¬ä½¿ç”¨-æ‰“åŒ…-js" class="header-anchor">#</a> åŸºæœ¬ä½¿ç”¨â€”æ‰“åŒ… JS</h2> <p>ç›®å‰çš„é¡¹ç›®æ–‡ä»¶ç»“æ„</p> <img src="/assets/img/image-20200614195402678.9a1cb6c0.png" alt="image-20200614195402678" style="zoom:50%;"> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å¼•ç”¨çš„æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶ã€‚æ— éœ€å†™type --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./dist/bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.js</span>

<span class="token comment">// CommonJS</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span> formatDate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./js/utils.js'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ES6</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> poem <span class="token keyword">from</span> <span class="token string">'./js/poem.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>poem<span class="token punctuation">.</span><span class="token constant">SPRING</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ./js/utils.js</span>

<span class="token keyword">function</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token parameter">date</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>date<span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
    date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> <span class="token punctuation">(</span>date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getDate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
    date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getHours</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getMinutes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>
    date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">10</span> <span class="token operator">?</span> <span class="token string">'0'</span> <span class="token operator">+</span> date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> date<span class="token punctuation">.</span><span class="token function">getSeconds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span>

<span class="token comment">// CommonJS</span>
<span class="token comment">// å¯ä»¥çœç•¥æ‰ module</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  formatDate<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ./js/poem.js</span>

<span class="token keyword">const</span> <span class="token constant">SPRING</span> <span class="token operator">=</span>
  <span class="token string">'å¤©è¡—å°é›¨æ¶¦å¦‚é…¥ï¼Œè‰è‰²é¥çœ‹è¿‘å´æ— ã€‚æœ€æ˜¯ä¸€å¹´æ˜¥å¥½å¤„ï¼Œç»èƒœçƒŸæŸ³æ»¡çš‡éƒ½ã€‚'</span>
<span class="token keyword">const</span> <span class="token constant">SUMMER</span> <span class="token operator">=</span>
  <span class="token string">'æ¯•ç«Ÿè¥¿æ¹–å…­æœˆä¸­ï¼Œé£å…‰ä¸ä¸å››æ—¶åŒã€‚æ¥å¤©è²å¶æ— ç©·ç¢§ï¼Œæ˜ æ—¥è·èŠ±åˆ«æ ·çº¢ã€‚'</span>
<span class="token keyword">const</span> <span class="token constant">AUTUMN</span> <span class="token operator">=</span>
  <span class="token string">'é“¶çƒ›ç§‹å…‰å†·ç”»å±ï¼Œè½»ç½—å°æ‰‡æ‰‘æµè¤ã€‚å¤©é˜¶å¤œè‰²å‡‰å¦‚æ°´ï¼Œåçœ‹ç‰µç‰›ç»‡å¥³æ˜Ÿã€‚'</span>
<span class="token keyword">const</span> <span class="token constant">WINTER</span> <span class="token operator">=</span> <span class="token string">'æ—¥æš®è‹å±±è¿œï¼Œå¤©å¯’ç™½å±‹è´«ã€‚æŸ´é—¨é—»çŠ¬å ï¼Œé£é›ªå¤œå½’äººã€‚'</span>

<span class="token comment">// ES6</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span> <span class="token constant">SPRING</span><span class="token punctuation">,</span> <span class="token constant">SUMMER</span><span class="token punctuation">,</span> <span class="token constant">AUTUMN</span><span class="token punctuation">,</span> <span class="token constant">WINTER</span> <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>æ‰§è¡Œæ‰“åŒ…å‘½ä»¤</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> study-webpack/1 webpackèµ·æ­¥
<span class="token comment"># ä½¿ç”¨å…¨å±€ webpack æ‰“åŒ…</span>
webpack ./src/main.js ./dist/bundle.js

<span class="token comment">##########</span>
Hash: f664968929cb925ac098
Version: webpack <span class="token number">3.6</span>.0
Time: 35ms
    Asset     Size  Chunks             Chunk Names
bundle.js  <span class="token number">4.16</span> kB       <span class="token number">0</span>  <span class="token punctuation">[</span>emitted<span class="token punctuation">]</span>  main
   <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> /Users/conanan/Documents/VSCode/study-webpack/1 webpackèµ·æ­¥/src/main.js <span class="token number">144</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
   <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> /Users/conanan/Documents/VSCode/study-webpack/1 webpackèµ·æ­¥/src/utils.js <span class="token number">504</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
   <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> /Users/conanan/Documents/VSCode/study-webpack/1 webpackèµ·æ­¥/src/poem.js <span class="token number">486</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> study-webpack/1 webpackèµ·æ­¥
<span class="token comment">#ä½¿ç”¨æœ¬åœ° webpack æ‰“åŒ…</span>
./node_modules/.bin/webpack ./src/main.js ./dist/bundle.js

<span class="token comment">##########</span>
Hash: bf83695e4e6f3e90f28b
Version: webpack <span class="token number">3.7</span>.0
Time: 35ms
    Asset    Size  Chunks             Chunk Names
bundle.js  <span class="token number">4.2</span> kB       <span class="token number">0</span>  <span class="token punctuation">[</span>emitted<span class="token punctuation">]</span>  main
   <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> ./src/main.js <span class="token number">163</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
   <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> ./src/utils.js <span class="token number">516</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
   <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> ./src/poem.js <span class="token number">493</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>è™½ç„¶ä»…ä»…æ‰“åŒ…äº† main.jsï¼Œä½†æ˜¯ webpack ä¼šå°† main.js æ‰€ä¾èµ–çš„æ‰€æœ‰ js æ–‡ä»¶éƒ½æ‰“åŒ…ï¼Œä¸”æ— è®ºæ˜¯ ES6 çš„æ¨¡å—åŒ–è¿˜æ˜¯ CommonJS çš„æ¨¡å—åŒ–éƒ½å¯ä»¥æ­£ç¡®æ‰“åŒ…</p> <h2 id="é…ç½®-webpack-config-js"><a href="#é…ç½®-webpack-config-js" class="header-anchor">#</a> é…ç½®â€”webpack.config.js</h2> <p>åšåˆ°çš„ç»“æœæ˜¯ä»…éœ€æ‰§è¡Œ<code>webpack</code>å‘½ä»¤æˆ–<code>npm run build</code>å‘½ä»¤å³å¯åšå‡ºä¸Šè¿°å¤æ‚å‘½ä»¤çš„æ“ä½œ</p> <p>é¦–å…ˆç”Ÿæˆ<code>package.json</code>ï¼Œåœ¨æ‰§è¡Œ<code>npm init</code>æ—¶æŒ‡å®š nameï¼ˆæœ€å¥½å…¨è‹±æ–‡ï¼‰ã€å…¥å£æ–‡ä»¶<code>main.js</code>ï¼ˆä¸æŒ‡å®šä¹Ÿæ²¡æœ‰æŠ¥é”™ï¼Ÿï¼‰</p> <p>åœ¨ src å’Œ dist åŒçº§ç›®å½•ä¸‹åˆ›å»º<code>webpack.config.js</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.jsonã€‚è¿™é‡Œå¥½åƒä¸èƒ½ä½¿ç”¨ ES6 çš„æ¨¡å—åŒ–è¯­æ³•</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>æ‰§è¡Œå‘½ä»¤</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> study-webpack/2 webpacké…ç½®
<span class="token comment"># é»˜è®¤å…ˆæŸ¥æ‰¾å±€éƒ¨å®‰è£…çš„ webpack</span>
webpack

<span class="token comment">##########</span>
Hash: bf83695e4e6f3e90f28b
Version: webpack <span class="token number">3.7</span>.0
Time: 37ms
    Asset    Size  Chunks             Chunk Names
bundle.js  <span class="token number">4.2</span> kB       <span class="token number">0</span>  <span class="token punctuation">[</span>emitted<span class="token punctuation">]</span>  main
   <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> ./src/main.js <span class="token number">163</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
   <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> ./src/utils.js <span class="token number">516</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
   <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> ./src/poem.js <span class="token number">493</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>å¦‚ä½•é…ç½®æ‰§è¡Œ<code>npm run build</code>å³å¯å®Œæˆä¸Šè¿°æ“ä½œå‘¢ï¼Ÿéœ€è¦ä¿®æ”¹<code>package.json</code></p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;meetwebpack&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;main.js&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>æ‰§è¡Œå‘½ä»¤</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> study-webpack/2 webpacké…ç½®
<span class="token function">npm</span> run build

<span class="token comment">##########</span>
<span class="token operator">&gt;</span> meetwebpack@1.0.0 build /Users/conanan/Documents/VSCode/study-webpack/2 webpacké…ç½®
<span class="token operator">&gt;</span> webpack

Hash: bf83695e4e6f3e90f28b
Version: webpack <span class="token number">3.7</span>.0
Time: 35ms
    Asset    Size  Chunks             Chunk Names
bundle.js  <span class="token number">4.2</span> kB       <span class="token number">0</span>  <span class="token punctuation">[</span>emitted<span class="token punctuation">]</span>  main
   <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> ./src/main.js <span class="token number">163</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
   <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> ./src/utils.js <span class="token number">516</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
   <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> ./src/poem.js <span class="token number">493</span> bytes <span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span> <span class="token punctuation">[</span>built<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="loader-ğŸ”¥"><a href="#loader-ğŸ”¥" class="header-anchor">#</a> loader ğŸ”¥</h2> <p>webpack åªèƒ½ç†è§£ JavaScript å’Œ JSON æ–‡ä»¶ï¼Œè¿™æ˜¯ webpack å¼€ç®±å¯ç”¨çš„è‡ªå¸¦èƒ½åŠ›ã€‚<strong>loader</strong> è®© webpack èƒ½å¤Ÿå»å¤„ç†å…¶ä»–ç±»å‹çš„æ–‡ä»¶ï¼Œå¹¶å°†å®ƒä»¬è½¬æ¢ä¸ºæœ‰æ•ˆ <a href="https://webpack.docschina.org/concepts/modules" target="_blank" rel="noopener noreferrer">æ¨¡å—<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œä»¥ä¾›åº”ç”¨ç¨‹åºä½¿ç”¨ï¼Œä»¥åŠè¢«æ·»åŠ åˆ°ä¾èµ–å›¾ä¸­ã€‚</p> <p>Loader å¯ä»¥ç†è§£ä¸ºæ˜¯æ¨¡å—å’Œèµ„æºçš„è½¬æ¢å™¨ï¼Œå®ƒæœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å—æºæ–‡ä»¶ä½œä¸ºå‚æ•°ï¼Œè¿”å›è½¬æ¢çš„ç»“æœã€‚è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ Â requireÂ  æ¥åŠ è½½ä»»ä½•ç±»å‹çš„æ¨¡å—æˆ–æ–‡ä»¶ï¼Œæ¯”å¦‚ CoffeeScriptã€ JSXã€ LESS æˆ–å›¾ç‰‡ã€‚é¦–å…ˆæˆ‘ä»¬éœ€è¦å®‰è£…ç›¸å…³ Loader æ’ä»¶ï¼Œ<strong>å…·ä½“æ“ä½œæ–‡æ¡£ä¸­å†™å¾—éå¸¸è¯¦ç»†</strong>ã€‚</p> <h3 id="æ‰“åŒ…-css"><a href="#æ‰“åŒ…-css" class="header-anchor">#</a> æ‰“åŒ… CSS</h3> <p>css-loader æ˜¯å°† css è£…è½½åˆ° javascriptï¼›style-loader æ˜¯è®© javascript è®¤è¯† cssã€‚</p> <p>ç›®å‰çš„é¡¹ç›®æ–‡ä»¶ç»“æ„</p> <img src="/assets/img/image-20200614202842684.5f53cd03.png" alt="image-20200614202842684" style="zoom:50%;"> <ol><li><p>å®‰è£… css-loader å’Œ style-loader</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev css-loader style-loader
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>ä¿®æ”¹ webpack.config.jsï¼Œæ·»åŠ  module æ¨¡å—</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.json</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        <span class="token comment">// css-loaderè§£æcssæ–‡ä»¶åï¼Œä½¿ç”¨importåŠ è½½ï¼Œå¹¶è¿”å›cssä»£ç </span>
        <span class="token comment">// style-loader å°†æ¨¡å—å¯¼å‡ºä½œä¸ºstyleæ·»åŠ åˆ°DOMä¸­</span>
        <span class="token comment">// ä½¿ç”¨å¤šä¸ªloaderæ—¶ï¼Œä»å³åˆ°å·¦åŠ è½½ã€‚é¡ºåºä¸èƒ½ä¹±ï¼</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li> <li><p>åˆ›å»º css æ–‡ä»¶</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token comment">/* css/normal.css */</span>

<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> skyblue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>ä¿®æ”¹å…¥å£ main.js ï¼Œå¼•å…¥ä¸Šé¢çš„ css æ–‡ä»¶ï¼ˆè‹¥æ²¡æœ‰ loaderï¼Œç›´æ¥å¼•å…¥æ‰“åŒ…åˆ™æŠ¥é”™ï¼‰</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// CommonJS</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span> formatDate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./js/utils.js'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ES6</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> poem <span class="token keyword">from</span> <span class="token string">'./js/poem.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>poem<span class="token punctuation">.</span><span class="token constant">SPRING</span><span class="token punctuation">)</span>

<span class="token comment">// CommonJS è¯­æ³•ï¼Œä¸èƒ½ä½¿ç”¨ ES6ï¼Œé‚£æ˜¯é’ˆå¯¹ JS çš„</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./css/normal.css'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>é‡æ–°æ‰“åŒ…<code>webpack</code>æˆ–<code>npn run build</code></p></li> <li><p>è®¿é—® index.html çœ‹çœ‹èƒŒæ™¯</p></li></ol> <h3 id="æ‰“åŒ…-lessã€scssã€stylus"><a href="#æ‰“åŒ…-lessã€scssã€stylus" class="header-anchor">#</a> æ‰“åŒ… lessã€scssã€stylus</h3> <p>è¿™é‡Œä»¥ less ä¸ºä¾‹ï¼Œåˆ›å»ºæ–‡ä»¶å¹¶æ”¾å…¥ css ç›®å½•ä¸­ï¼Œå¼•å…¥ç­‰æ“ä½œå’Œ css æ–‡ä»¶ä¸€æ ·</p> <ol><li><p>å®‰è£… less-loaderï¼ˆç”±äº webpack çš„ç‰ˆæœ¬è¾ƒä½ï¼Œæ˜¯ 3.6.0 æˆ– 3.7.0ï¼Œç›®å‰å·²ç»å‡ºäº† 5.0 äº†ï¼Œè¿™é‡Œ less-loader ç‰ˆæœ¬ä¹Ÿéœ€è¦é™ä½ï¼‰</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev less-loader <span class="token function">less</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>å¸è½½é«˜ç‰ˆæœ¬ less-loaderï¼Œé‡æ–°å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„ï¼ˆæˆ‘ä¹Ÿæ˜¯æœäº†ï¼Œæ²¡æ‰¾åˆ°å“ªå†™äº†ç‰ˆæœ¬é«˜ï¼‰</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> uninstall less-loader
<span class="token function">npm</span> <span class="token function">install</span> less-loader@4.1.0 --save-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>ä¿®æ”¹ webpack.config.jsï¼Œæ·»åŠ  module æ¨¡å—</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.json</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é….cssæ–‡ä»¶</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>

        <span class="token comment">// style-loader å°†æ¨¡å—å¯¼å‡ºä½œä¸ºstyleæ·»åŠ åˆ°DOMä¸­</span>
        <span class="token comment">// css-loaderè§£æcssæ–‡ä»¶åï¼Œä½¿ç”¨importåŠ è½½ï¼Œå¹¶è¿”å›cssä»£ç </span>
        <span class="token comment">// ä½¿ç”¨å¤šä¸ªloaderæ—¶ï¼Œä»å³åˆ°å·¦åŠ è½½ã€‚é¡ºåºä¸èƒ½ä¹±ï¼</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token comment">// creates style nodes from JS strings</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token comment">// translates CSS into CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span> <span class="token comment">// compiles Less to CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div></li> <li><p>åˆ›å»º less æ–‡ä»¶ï¼Œå¹¶åœ¨å…¥å£æ–‡ä»¶ main.js ä¸­å¼•å…¥</p> <div class="language-less line-numbers-mode"><pre class="language-less"><code><span class="token comment">// css/special.less</span>

<span class="token variable">@fontSize<span class="token punctuation">:</span></span> 50px<span class="token punctuation">;</span>
<span class="token variable">@fontColor<span class="token punctuation">:</span></span> orange<span class="token punctuation">;</span>

<span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> <span class="token variable">@fontSize</span><span class="token punctuation">;</span>
  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token variable">@fontColor</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.js</span>

<span class="token comment">// CommonJS</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span> formatDate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./js/utils.js'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ES6</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> poem <span class="token keyword">from</span> <span class="token string">'./js/poem.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>poem<span class="token punctuation">.</span><span class="token constant">SPRING</span><span class="token punctuation">)</span>

<span class="token comment">// CommonJS è¯­æ³•ï¼Œä¸èƒ½ä½¿ç”¨ ES6ï¼Œé‚£æ˜¯é’ˆå¯¹ JS çš„</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./css/normal.css'</span><span class="token punctuation">)</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./css/special.less'</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">'World'</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li> <li><p>HTML æ–‡ä»¶</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Hello<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å¼•ç”¨çš„æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶ã€‚æ— éœ€å†™type --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./dist/bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li> <li><p>é‡æ–°æ‰“åŒ…<code>webpack</code>æˆ–<code>npn run build</code></p></li> <li><p>è®¿é—® index.html çœ‹çœ‹å­—ä½“åŠé¢œè‰²</p></li></ol> <h3 id="æ‰“åŒ…å›¾ç‰‡"><a href="#æ‰“åŒ…å›¾ç‰‡" class="header-anchor">#</a> æ‰“åŒ…å›¾ç‰‡</h3> <ol><li><p>å®‰è£… url-loaderï¼Œfile-loaderï¼ˆå½“å›¾ç‰‡å¤§å°å¤§äº limit æ—¶ä½¿ç”¨ï¼‰</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev url-loader
<span class="token function">npm</span> <span class="token function">install</span> --save-dev file-loader
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>ä¿®æ”¹ webpack.config.jsï¼Œæ·»åŠ  module æ¨¡å—</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.json</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token comment">// è¾“å‡ºæ¶‰åŠurlæ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å‰é¢æ·»åŠ è¯¥å­—ç¬¦ä¸²ã€‚å®é™…ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰æ–‡ä»¶éƒ½æ‰“åŒ…åˆ° dist ä¸­ï¼Œæ­¤æ—¶åº”è¯¥åˆ æ‰publicPathé…ç½®</span>
    publicPath<span class="token operator">:</span> <span class="token string">'dist/'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é….cssæ–‡ä»¶</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>

        <span class="token comment">// style-loader å°†æ¨¡å—å¯¼å‡ºä½œä¸ºstyleæ·»åŠ åˆ°DOMä¸­</span>
        <span class="token comment">// css-loaderè§£æcssæ–‡ä»¶åï¼Œä½¿ç”¨importåŠ è½½ï¼Œå¹¶è¿”å›cssä»£ç </span>
        <span class="token comment">// ä½¿ç”¨å¤šä¸ªloaderæ—¶ï¼Œä»å³åˆ°å·¦åŠ è½½ã€‚é¡ºåºä¸èƒ½ä¹±ï¼</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token comment">// creates style nodes from JS strings</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token comment">// translates CSS into CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span> <span class="token comment">// compiles Less to CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å½“å›¾ç‰‡å¤§å°å°äº limit æ—¶ï¼Œä¼šè¢«ç¼–è¯‘ä¸ºbase64å­—ç¬¦ä¸²</span>
              <span class="token comment">// å½“å¤§äº limit æ—¶ï¼Œä¼šä½¿ç”¨ file-loader è¿›è¡ŒåŠ è½½ï¼Œä»…éœ€è¦å®‰è£…ï¼</span>
              limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
              <span class="token comment">// img/ç›®å½•ä¸‹ï¼Œ[name]ä¸ºåŸåï¼Œ[hash:8]ä¸º8ä½å“ˆå¸Œå€¼ï¼Œ.[ext]ä¸ºåç¼€</span>
              name<span class="token operator">:</span> <span class="token string">'img/[name][hash:8].[ext]'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br></div></div></li> <li><p>ä¿®æ”¹ css ä¸­èƒŒæ™¯</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token comment">/* background-color: skyblue; */</span>
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url"><span class="token function">url</span><span class="token punctuation">(</span><span class="token string url">'../img/conan.jpeg'</span><span class="token punctuation">)</span></span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>é‡æ–°æ‰“åŒ…<code>webpack</code>æˆ–<code>npn run build</code></p></li> <li><p>è®¿é—® index.html çœ‹çœ‹èƒŒæ™¯å›¾ç‰‡</p> <p>å½“å›¾ç‰‡å¤§å°å°äº limit æ—¶ï¼Œä¼šè¢«ç¼–è¯‘ä¸º base64 å­—ç¬¦ä¸²ï¼Œå¯ä»¥ç›´æ¥æ˜¾ç¤ºå‡ºæ¥</p> <p>å½“å¤§äº limit æ—¶ï¼Œä¼šä½¿ç”¨ file-loader è¿›è¡ŒåŠ è½½ï¼Œä¸”<strong>é‡å‘½åï¼ˆ32 ä½å“ˆå¸Œå€¼ï¼‰å¹¶æ‰“åŒ…åˆ° dist ç›®å½•ä¸­</strong>ï¼Œç”±äº<strong>è·¯å¾„ä¸å¯¹æ— æ³•æ˜¾ç¤º</strong>ï¼ˆæ˜¾ç¤ºçš„æ˜¯ä»¥ index.html çš„ç›®å½•ä¸ºç›®å½•çš„è·¯å¾„ï¼Œéœ€è¦æ”¹ä¸ºä»¥ dist/ ä¸ºç›®å½•çš„è·¯å¾„ï¼‰ã€‚</p> <p>å®é™…ä¸­ï¼Œè¿™ç§ 32 ä½å“ˆå¸Œå€¼çš„æ–‡ä»¶åå¹¶ä¸æ–¹ä¾¿ï¼Œä¸”æ²¡æœ‰æ”¾å…¥ç»Ÿä¸€çš„ç›®å½•ä¸­ã€‚å®é™…å¯èƒ½ä¼šå°†å…¶æ”¾å…¥<code>img/[name][hash:8].[ext]</code>ï¼Œåœ¨ loader ä¸­é…ç½®å³å¯</p> <p>ä½†æ˜¯<strong>å®é™…ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰æ–‡ä»¶éƒ½æ‰“åŒ…åˆ° dist ä¸­ï¼Œæ­¤æ—¶åº”è¯¥åˆ æ‰ publicPath é…ç½®</strong>ï¼</p></li></ol> <h3 id="babel"><a href="#babel" class="header-anchor">#</a> babel</h3> <p>webpack æ‰“åŒ…çš„ JS æ–‡ä»¶ï¼Œæ²¡æœ‰å°† ES6 è½¬ä¸º ES5ï¼Œæœ‰éƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒï¼Œæ‰€ä»¥æ­¤æ—¶å¯ä»¥ä½¿ç”¨ babel</p> <ol><li><p>å®‰è£… babel-loader å’Œ babelï¼ˆæ³¨æ„æ­¤å¤„è¿˜æ˜¯æ ¹æ® webpack 3.6.* é€‰æ‹©çš„ç‰ˆæœ¬ï¼‰</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> babel-loader@7 babel-core babel-preset-es2015 --save-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>æˆ‘å°±æœäº†ï¼Œæ–‡æ¡£é‡Œçš„é…ç½®è¿˜è®©å®‰è£… webpackï¼Ÿè¿˜å¤±è´¥äº†ï¼Œè¿˜æœ‰äº›çœ‹ä¸æ‡‚çš„é…ç½®ã€‚ç®—äº† ğŸ˜„</p></li> <li><p>ä¿®æ”¹ webpack.config.jsï¼Œæ·»åŠ  module æ¨¡å—</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.json</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token comment">// è¾“å‡ºæ¶‰åŠurlæ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å‰é¢æ·»åŠ è¯¥å­—ç¬¦ä¸²ã€‚å®é™…ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰æ–‡ä»¶éƒ½æ‰“åŒ…åˆ° dist ä¸­ï¼Œæ­¤æ—¶åº”è¯¥åˆ æ‰publicPathé…ç½®</span>
    publicPath<span class="token operator">:</span> <span class="token string">'dist/'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é….cssæ–‡ä»¶</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>

        <span class="token comment">// style-loader å°†æ¨¡å—å¯¼å‡ºä½œä¸ºstyleæ·»åŠ åˆ°DOMä¸­</span>
        <span class="token comment">// css-loaderè§£æcssæ–‡ä»¶åï¼Œä½¿ç”¨importåŠ è½½ï¼Œå¹¶è¿”å›cssä»£ç </span>
        <span class="token comment">// ä½¿ç”¨å¤šä¸ªloaderæ—¶ï¼Œä»å³åˆ°å·¦åŠ è½½ã€‚é¡ºåºä¸èƒ½ä¹±ï¼</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token comment">// creates style nodes from JS strings</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token comment">// translates CSS into CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span> <span class="token comment">// compiles Less to CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å½“å›¾ç‰‡å¤§å°å°äº limit æ—¶ï¼Œä¼šè¢«ç¼–è¯‘ä¸ºbase64å­—ç¬¦ä¸²</span>
              <span class="token comment">// å½“å¤§äº limit æ—¶ï¼Œä¼šä½¿ç”¨ file-loader è¿›è¡ŒåŠ è½½ï¼Œä»…éœ€è¦å®‰è£…ï¼</span>
              limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
              <span class="token comment">// img/ç›®å½•ä¸‹ï¼Œ[name]ä¸ºåŸåï¼Œ[hash:8]ä¸º8ä½å“ˆå¸Œå€¼ï¼Œ.[ext]ä¸ºåç¼€</span>
              name<span class="token operator">:</span> <span class="token string">'img/[name][hash:8].[ext]'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// æ’é™¤</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules|bower_components)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'es2015'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br></div></div></li> <li><p>é‡æ–°æ‰“åŒ…<code>webpack</code>æˆ–<code>npn run build</code>ã€‚æŸ¥çœ‹ buldle.js æ–‡ä»¶</p></li></ol> <h2 id="vue-é…åˆ-webpack-ä½¿ç”¨-ğŸ”¥"><a href="#vue-é…åˆ-webpack-ä½¿ç”¨-ğŸ”¥" class="header-anchor">#</a> Vueâ€”é…åˆ webpack ä½¿ç”¨ ğŸ”¥</h2> <h3 id="é…ç½®"><a href="#é…ç½®" class="header-anchor">#</a> é…ç½®</h3> <ol><li><p>npm å®‰è£… vue</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> vue --save
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><code>--save</code>å¯ä»¥ç®€å†™ä¸º<code>-S</code>ï¼Œvue æ˜¯è¦åœ¨å‘å¸ƒæ—¶ä¹Ÿä½¿ç”¨çš„ï¼Œæ‰€ä»¥æ— éœ€æ·»åŠ <code>-dev</code></p></li> <li><p>ä½¿ç”¨ vue å¼€å‘ï¼Œåœ¨ main.js ä¸­</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// CommonJS</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span> formatDate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./js/utils.js'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ES6</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> poem <span class="token keyword">from</span> <span class="token string">'./js/poem.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>poem<span class="token punctuation">.</span><span class="token constant">SPRING</span><span class="token punctuation">)</span>

<span class="token comment">// CommonJS è¯­æ³•ï¼Œä¸èƒ½ä½¿ç”¨ ES6ï¼Œé‚£æ˜¯é’ˆå¯¹ JS çš„</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./css/normal.css'</span><span class="token punctuation">)</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./css/special.less'</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">'World'</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    message<span class="token operator">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>ä¿®æ”¹ index.html</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      {{message}}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å¼•ç”¨çš„æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶ã€‚æ— éœ€å†™type --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./dist/bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li> <li><p>é‡æ–°æ‰“åŒ…<code>webpack</code>æˆ–<code>npn run build</code>ã€‚è®¿é—®åå‘ç°æŠ¥é”™</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>bundle.js:1344 [Vue warn]: You are using the runtime-only build of Vue where the template compiler is not available. Either pre-compile the templates into render functions, or use the compiler-included build.
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>è¿™æ˜¯ç”±äº vue åœ¨æ„å»ºæ—¶æœ‰ä¸¤ä¸ªç‰ˆæœ¬</p> <ul><li>runtime-onlyï¼šä»£ç ä¸­ï¼Œä¸å¯ä»¥æœ‰ä»»ä½• templateï¼Œå¦‚ id=&quot;app&quot; é‚£ä¸ª div</li> <li>runtime-compilerï¼šä»£ç ä¸­ï¼Œå¯ä»¥æœ‰ templateï¼Œcompiler ä¼šå¯¹å…¶è¿›è¡Œç¼–è¯‘</li></ul> <p>å®˜ç½‘æ–‡æ¡£<a href="https://cn.vuejs.org/v2/guide/installation.html#%E5%AF%B9%E4%B8%8D%E5%90%8C%E6%9E%84%E5%BB%BA%E7%89%88%E6%9C%AC%E7%9A%84%E8%A7%A3%E9%87%8A" target="_blank" rel="noopener noreferrer">è§£é‡Š<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œä¿®æ”¹ webpack.config.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.json</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token comment">// è¾“å‡ºæ¶‰åŠurlæ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å‰é¢æ·»åŠ è¯¥å­—ç¬¦ä¸²ã€‚å®é™…ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰æ–‡ä»¶éƒ½æ‰“åŒ…åˆ° dist ä¸­ï¼Œæ­¤æ—¶åº”è¯¥åˆ æ‰publicPathé…ç½®</span>
    publicPath<span class="token operator">:</span> <span class="token string">'dist/'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é….cssæ–‡ä»¶</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>

        <span class="token comment">// style-loader å°†æ¨¡å—å¯¼å‡ºä½œä¸ºstyleæ·»åŠ åˆ°DOMä¸­</span>
        <span class="token comment">// css-loaderè§£æcssæ–‡ä»¶åï¼Œä½¿ç”¨importåŠ è½½ï¼Œå¹¶è¿”å›cssä»£ç </span>
        <span class="token comment">// ä½¿ç”¨å¤šä¸ªloaderæ—¶ï¼Œä»å³åˆ°å·¦åŠ è½½ã€‚é¡ºåºä¸èƒ½ä¹±ï¼</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token comment">// creates style nodes from JS strings</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token comment">// translates CSS into CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span> <span class="token comment">// compiles Less to CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å½“å›¾ç‰‡å¤§å°å°äº limit æ—¶ï¼Œä¼šè¢«ç¼–è¯‘ä¸ºbase64å­—ç¬¦ä¸²</span>
              <span class="token comment">// å½“å¤§äº limit æ—¶ï¼Œä¼šä½¿ç”¨ file-loader è¿›è¡ŒåŠ è½½ï¼Œä»…éœ€è¦å®‰è£…ï¼</span>
              limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
              <span class="token comment">// img/ç›®å½•ä¸‹ï¼Œ[name]ä¸ºåŸåï¼Œ[hash:8]ä¸º8ä½å“ˆå¸Œå€¼ï¼Œ.[ext]ä¸ºåç¼€</span>
              name<span class="token operator">:</span> <span class="token string">'img/[name][hash:8].[ext]'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// æ’é™¤</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules|bower_components)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'es2015'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// æŒ‡å®šå‘å¸ƒçš„ç‰ˆæœ¬</span>
      vue$<span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨ webpack 1 æ—¶éœ€ç”¨ 'vue/dist/vue.common.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div></li> <li><p>é‡æ–°æ‰“åŒ…<code>webpack</code>æˆ–<code>npn run build</code>ã€‚è®¿é—®</p></li></ol> <h3 id="el-å’Œ-template-åŒºåˆ«"><a href="#el-å’Œ-template-åŒºåˆ«" class="header-anchor">#</a> el å’Œ template åŒºåˆ«</h3> <p>å®é™…ä½¿ç”¨æ—¶ï¼Œä¸ä¼šä¿®æ”¹ index.html çš„ä»£ç ï¼Œä»…ä»…ç•™ä¸ª id=&quot;app&quot; çš„ divï¼Œåªéœ€è¦åœ¨ä½¿ç”¨ vue æ—¶æŒ‡å®š template å³å¯ï¼Œvue å†…éƒ¨ä¼šè‡ªåŠ¨å°† template ä¸­çš„ä»£ç æ›¿æ¢ id=&quot;app&quot; çš„ divï¼ˆè¯¥ div å°†ä¸è§ï¼‰</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å¼•ç”¨çš„æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶ã€‚æ— éœ€å†™type --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./dist/bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// main.js</span>

<span class="token comment">// CommonJS</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span> formatDate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./js/utils.js'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ES6</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> poem <span class="token keyword">from</span> <span class="token string">'./js/poem.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>poem<span class="token punctuation">.</span><span class="token constant">SPRING</span><span class="token punctuation">)</span>

<span class="token comment">// CommonJS è¯­æ³•ï¼Œä¸èƒ½ä½¿ç”¨ ES6ï¼Œé‚£æ˜¯é’ˆå¯¹ JS çš„</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./css/normal.css'</span><span class="token punctuation">)</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./css/special.less'</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">writeln</span><span class="token punctuation">(</span><span class="token string">'World'</span><span class="token punctuation">)</span>

<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
    &lt;div&gt;
        &lt;h2&gt;{{message}}&lt;/h2&gt;
        &lt;button @click=&quot;btnClick&quot;&gt;æŒ‰é’®&lt;/button&gt;
    &lt;/div&gt;
    </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
  data<span class="token operator">:</span> <span class="token punctuation">{</span>
    message<span class="token operator">:</span> <span class="token string">'Hello'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">btnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><h3 id="ç»ˆæä½¿ç”¨"><a href="#ç»ˆæä½¿ç”¨" class="header-anchor">#</a> ç»ˆæä½¿ç”¨</h3> <p>è¿™ä¸ª<a href="https://www.bilibili.com/video/BV15741177Eh?p=84" target="_blank" rel="noopener noreferrer">è§†é¢‘<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>è®²è§£çš„éå¸¸è¯¦ç»†ï¼Œä¸€æ­¥ä¸€æ­¥</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- å¼•ç”¨çš„æ˜¯æ‰“åŒ…åçš„æ–‡ä»¶ã€‚æ— éœ€å†™type --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./dist/bundle.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// CommonJS</span>
<span class="token keyword">var</span> <span class="token punctuation">{</span> formatDate <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./js/utils.js'</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ES6</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> poem <span class="token keyword">from</span> <span class="token string">'./js/poem.js'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>poem<span class="token punctuation">.</span><span class="token constant">SPRING</span><span class="token punctuation">)</span>

<span class="token comment">// CommonJS è¯­æ³•ï¼Œä¸èƒ½ä½¿ç”¨ ES6ï¼Œé‚£æ˜¯é’ˆå¯¹ JS çš„</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./css/normal.css'</span><span class="token punctuation">)</span>
<span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./css/special.less'</span><span class="token punctuation">)</span>
<span class="token comment">// document.writeln(&quot;World&quot;);</span>

<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>
<span class="token comment">// å¯¼å…¥ç»„ä»¶ js æ–‡ä»¶ï¼Œå¯çœç•¥åç¼€</span>
<span class="token comment">// import App from &quot;./vue/app&quot;;</span>
<span class="token comment">// å¯¼å…¥ç»„ä»¶ vue æ–‡ä»¶ï¼Œä¸å¯çœç•¥åç¼€ã€‚åœ¨ vue æ–‡ä»¶ä¸­å¯ä»¥çœç•¥ï¼ˆä½†éœ€webpacké…ç½®ï¼‰</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./vue/App.vue'</span>

<span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  el<span class="token operator">:</span> <span class="token string">'#app'</span><span class="token punctuation">,</span>
  template<span class="token operator">:</span> <span class="token string">'&lt;App/&gt;'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    App<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- vue/App.vue--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btnClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æŒ‰é’®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cpn</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// å¯çœç•¥åç¼€ï¼ˆéœ€åœ¨ webpakc ä¸­é…ç½®ï¼‰</span>
<span class="token keyword">import</span> Cpn <span class="token keyword">from</span> <span class="token string">'./Cpn'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'App'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span>
    Cpn<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> message<span class="token operator">:</span> <span class="token string">'Hello'</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">btnClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><div class="language-vue line-numbers-mode"><pre class="language-vue"><code><span class="token comment">&lt;!-- vue/Cpn.vue--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>{{ message }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Cpn'</span><span class="token punctuation">,</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      message<span class="token operator">:</span> <span class="token string">'Cpn ç»„ä»¶ï¼ï¼ï¼ï¼ï¼'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>è‹¥ä¿®æ”¹åé‡æ–°æ‰“åŒ…å¤±è´¥ï¼Œå¯ä»¥å®‰è£… <a href="https://vue-loader.vuejs.org/zh/guide/#vue-cli" target="_blank" rel="noopener noreferrer">Vue Loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ã€‚å…¶ä¸­ vue-template-compiler ç”¨äºç›´æ¥è§£æ template æ¨¡ç‰ˆï¼ˆæé«˜æ€§èƒ½ï¼‰</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> -D vue-loader vue-template-compiler
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>webpack.config.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.json</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader/lib/plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token comment">// è¾“å‡ºæ¶‰åŠurlæ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å‰é¢æ·»åŠ è¯¥å­—ç¬¦ä¸²ã€‚å®é™…ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰æ–‡ä»¶éƒ½æ‰“åŒ…åˆ° dist ä¸­ï¼Œæ­¤æ—¶åº”è¯¥åˆ æ‰publicPathé…ç½®</span>
    publicPath<span class="token operator">:</span> <span class="token string">'dist/'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é….cssæ–‡ä»¶</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>

        <span class="token comment">// style-loader å°†æ¨¡å—å¯¼å‡ºä½œä¸ºstyleæ·»åŠ åˆ°DOMä¸­</span>
        <span class="token comment">// css-loaderè§£æcssæ–‡ä»¶åï¼Œä½¿ç”¨importåŠ è½½ï¼Œå¹¶è¿”å›cssä»£ç </span>
        <span class="token comment">// ä½¿ç”¨å¤šä¸ªloaderæ—¶ï¼Œä»å³åˆ°å·¦åŠ è½½ã€‚é¡ºåºä¸èƒ½ä¹±ï¼</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token comment">// creates style nodes from JS strings</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token comment">// translates CSS into CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span> <span class="token comment">// compiles Less to CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å½“å›¾ç‰‡å¤§å°å°äº limit æ—¶ï¼Œä¼šè¢«ç¼–è¯‘ä¸ºbase64å­—ç¬¦ä¸²</span>
              <span class="token comment">// å½“å¤§äº limit æ—¶ï¼Œä¼šä½¿ç”¨ file-loader è¿›è¡ŒåŠ è½½ï¼Œä»…éœ€è¦å®‰è£…ï¼</span>
              limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
              <span class="token comment">// img/ç›®å½•ä¸‹ï¼Œ[name]ä¸ºåŸåï¼Œ[hash:8]ä¸º8ä½å“ˆå¸Œå€¼ï¼Œ.[ext]ä¸ºåç¼€</span>
              name<span class="token operator">:</span> <span class="token string">'img/[name][hash:8].[ext]'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// æ’é™¤</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules|bower_components)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'es2015'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'vue-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨ .vue æ–‡ä»¶ä¸­å¯¼å…¥å¦‚ä¸‹æ–‡ä»¶æ—¶å¯ä»¥çœç•¥åç¼€</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.css'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// æŒ‡å®šå‘å¸ƒçš„ç‰ˆæœ¬</span>
      vue$<span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨ webpack 1 æ—¶éœ€ç”¨ 'vue/dist/vue.common.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¯·ç¡®ä¿å¼•å…¥è¿™ä¸ªæ’ä»¶ï¼</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><p>é‡æ–°æ‰“åŒ…<code>webpack</code>æˆ–<code>npn run build</code>ã€‚è®¿é—®</p> <h2 id="plugin"><a href="#plugin" class="header-anchor">#</a> plugin</h2> <p>plugin ä¸ loader åŒºåˆ«ï¼š</p> <ul><li>loaderï¼šç”¨äºè½¬æ¢æŸäº›ç±»å‹çš„æ¨¡å—ï¼Œæ˜¯è½¬æ¢å™¨</li> <li>pluginï¼šæ˜¯å¯¹ webpack æœ¬èº«çš„æ‰©å±•ï¼Œæ˜¯æ‰©å±•å™¨</li></ul> <p>ä½¿ç”¨æ­¥éª¤ï¼š</p> <ol><li>npm å®‰è£…ï¼ˆæŸäº› webpack å†…ç½®çš„æ— éœ€å®‰è£…ï¼‰</li> <li>åœ¨ webpack.config.js ä¸­çš„ plugins é…ç½®</li></ol> <h3 id="banner"><a href="#banner" class="header-anchor">#</a> banner</h3> <p>webpack è‡ªå¸¦ï¼Œåªéœ€é…ç½®å¥½</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.json</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader/lib/plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token comment">// è¾“å‡ºæ¶‰åŠurlæ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å‰é¢æ·»åŠ è¯¥å­—ç¬¦ä¸²ã€‚å®é™…ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰æ–‡ä»¶éƒ½æ‰“åŒ…åˆ° dist ä¸­ï¼Œæ­¤æ—¶åº”è¯¥åˆ æ‰publicPathé…ç½®</span>
    publicPath<span class="token operator">:</span> <span class="token string">'dist/'</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é….cssæ–‡ä»¶</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>

        <span class="token comment">// style-loader å°†æ¨¡å—å¯¼å‡ºä½œä¸ºstyleæ·»åŠ åˆ°DOMä¸­</span>
        <span class="token comment">// css-loaderè§£æcssæ–‡ä»¶åï¼Œä½¿ç”¨importåŠ è½½ï¼Œå¹¶è¿”å›cssä»£ç </span>
        <span class="token comment">// ä½¿ç”¨å¤šä¸ªloaderæ—¶ï¼Œä»å³åˆ°å·¦åŠ è½½ã€‚é¡ºåºä¸èƒ½ä¹±ï¼</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token comment">// creates style nodes from JS strings</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token comment">// translates CSS into CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span> <span class="token comment">// compiles Less to CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å½“å›¾ç‰‡å¤§å°å°äº limit æ—¶ï¼Œä¼šè¢«ç¼–è¯‘ä¸ºbase64å­—ç¬¦ä¸²</span>
              <span class="token comment">// å½“å¤§äº limit æ—¶ï¼Œä¼šä½¿ç”¨ file-loader è¿›è¡ŒåŠ è½½ï¼Œä»…éœ€è¦å®‰è£…ï¼</span>
              limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
              <span class="token comment">// img/ç›®å½•ä¸‹ï¼Œ[name]ä¸ºåŸåï¼Œ[hash:8]ä¸º8ä½å“ˆå¸Œå€¼ï¼Œ.[ext]ä¸ºåç¼€</span>
              name<span class="token operator">:</span> <span class="token string">'img/[name][hash:8].[ext]'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// æ’é™¤</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules|bower_components)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'es2015'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'vue-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨ .vue æ–‡ä»¶ä¸­å¯¼å…¥å¦‚ä¸‹æ–‡ä»¶æ—¶å¯ä»¥çœç•¥åç¼€</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.css'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// æŒ‡å®šå‘å¸ƒçš„ç‰ˆæœ¬</span>
      vue$<span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨ webpack 1 æ—¶éœ€ç”¨ 'vue/dist/vue.common.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¯·ç¡®ä¿å¼•å…¥è¿™ä¸ªæ’ä»¶ï¼</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><p>é‡æ–°æ‰“åŒ…<code>webpack</code>æˆ–<code>npn run build</code>ã€‚æŸ¥çœ‹ bundle.js æ–‡ä»¶</p> <h3 id="htmlwebpackplugin-ğŸ”¥"><a href="#htmlwebpackplugin-ğŸ”¥" class="header-anchor">#</a> HtmlWebpackPlugin ğŸ”¥</h3> <p>ç›®å‰æˆ‘ä»¬çš„ index.html æ–‡ä»¶åœ¨æ ¹ç›®å½•ä¸‹ï¼Œä¸”æ‰“åŒ…åä¹Ÿæ˜¯åœ¨åŸä½ç½®ï¼Œè€Œå®é™…çœŸå®å‘å¸ƒé¡¹ç›®æ—¶ï¼Œå‘å¸ƒçš„æ˜¯ dist ç›®å½•ä¸­çš„å†…å®¹ï¼Œä½†æ˜¯å…¶ä¸­å¹¶æ²¡æœ‰ index.htmlï¼Œåªèƒ½å¤åˆ¶è¿‡å»ã€‚æ‰€ä»¥æˆ‘ä»¬éœ€è¦å¯ä»¥å°† index.html æ‰“åŒ…åˆ° dist ç›®å½•çš„æ’ä»¶ã€‚</p> <p>HtmlWebpackPlugin æ’ä»¶å¯ä»¥åšï¼š</p> <ul><li>è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª index.htmlï¼ˆå¯æŒ‡å®šæ¨¡æ¿ï¼‰</li> <li>å°†æ‰“åŒ…çš„ js æ–‡ä»¶ï¼Œè‡ªåŠ¨é€šè¿‡ script æ ‡ç­¾æ’å…¥åˆ° index.html çš„ body ä¸­</li></ul> <p>ä½¿ç”¨æ­¥éª¤ï¼š</p> <ol><li><p>å®‰è£…ï¼ˆåªå¼€å‘æ—¶ä¾èµ–ï¼‰ç”±äº webpack ç‰ˆæœ¬ä¸º 3.6.*ï¼Œæ‰€ä»¥æ­¤å¤„éœ€è¦å®‰è£…æŒ‡å®šç‰ˆæœ¬çš„</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> html-webpack-plugin@3.2.0 --save-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>ä¿®æ”¹ webpack.config.js ä¸­ plugins å†…å®¹</p> <p>æ³¨æ„åˆ æ‰<code>publicPath</code></p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.json</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader/lib/plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> htmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token comment">// è¾“å‡ºæ¶‰åŠurlæ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å‰é¢æ·»åŠ è¯¥å­—ç¬¦ä¸²ã€‚å®é™…ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰æ–‡ä»¶éƒ½æ‰“åŒ…åˆ° dist ä¸­ï¼Œæ­¤æ—¶åº”è¯¥åˆ æ‰publicPathé…ç½®</span>
    <span class="token comment">// publicPath: &quot;dist/&quot;,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é….cssæ–‡ä»¶</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>

        <span class="token comment">// style-loader å°†æ¨¡å—å¯¼å‡ºä½œä¸ºstyleæ·»åŠ åˆ°DOMä¸­</span>
        <span class="token comment">// css-loaderè§£æcssæ–‡ä»¶åï¼Œä½¿ç”¨importåŠ è½½ï¼Œå¹¶è¿”å›cssä»£ç </span>
        <span class="token comment">// ä½¿ç”¨å¤šä¸ªloaderæ—¶ï¼Œä»å³åˆ°å·¦åŠ è½½ã€‚é¡ºåºä¸èƒ½ä¹±ï¼</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token comment">// creates style nodes from JS strings</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token comment">// translates CSS into CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span> <span class="token comment">// compiles Less to CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å½“å›¾ç‰‡å¤§å°å°äº limit æ—¶ï¼Œä¼šè¢«ç¼–è¯‘ä¸ºbase64å­—ç¬¦ä¸²</span>
              <span class="token comment">// å½“å¤§äº limit æ—¶ï¼Œä¼šä½¿ç”¨ file-loader è¿›è¡ŒåŠ è½½ï¼Œä»…éœ€è¦å®‰è£…ï¼</span>
              limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
              <span class="token comment">// img/ç›®å½•ä¸‹ï¼Œ[name]ä¸ºåŸåï¼Œ[hash:8]ä¸º8ä½å“ˆå¸Œå€¼ï¼Œ.[ext]ä¸ºåç¼€</span>
              name<span class="token operator">:</span> <span class="token string">'img/[name][hash:8].[ext]'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// æ’é™¤</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules|bower_components)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'es2015'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'vue-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨ .vue æ–‡ä»¶ä¸­å¯¼å…¥å¦‚ä¸‹æ–‡ä»¶æ—¶å¯ä»¥çœç•¥åç¼€</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.css'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// æŒ‡å®šå‘å¸ƒçš„ç‰ˆæœ¬</span>
      vue$<span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨ webpack 1 æ—¶éœ€ç”¨ 'vue/dist/vue.common.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¯·ç¡®ä¿å¼•å…¥è¿™ä¸ªæ’ä»¶ï¼</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// banneræ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'æœ€ç»ˆç‰ˆæƒå½’conananæ‰€æœ‰'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// htmlWebpackPlugin æ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">htmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      template<span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br></div></div></li> <li><p>é‡æ–°æ‰“åŒ…<code>webpack</code>æˆ–<code>npn run build</code>ã€‚æŸ¥çœ‹ index.html æ–‡ä»¶</p></li></ol> <h3 id="uglifyjs-å‹ç¼©-ğŸ”¥"><a href="#uglifyjs-å‹ç¼©-ğŸ”¥" class="header-anchor">#</a> uglifyjs å‹ç¼© ğŸ”¥</h3> <ol><li><p>å®‰è£…ï¼ˆç”±äº webpack ç‰ˆæœ¬åŠ CLI2ï¼Œé‚é€‰æ‹©è¯¥ç‰ˆæœ¬ï¼‰</p> <p>è¿˜æ˜¯æŠ¥é”™ï¼Œæˆ‘çœ‹ node_modules ä¸­å¥½åƒè‡ªå¸¦äº†ï¼Œåªéœ€é…ç½®å³å¯é£Ÿç”¨</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> uglifyjs-webpack-plugin@1.1.1 --save-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>ä¿®æ”¹ webpack.config.js ä¸­ plugins å†…å®¹</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.json</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader/lib/plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> htmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> uglifyjsWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'uglifyjs-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token comment">// è¾“å‡ºæ¶‰åŠurlæ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å‰é¢æ·»åŠ è¯¥å­—ç¬¦ä¸²ã€‚å®é™…ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰æ–‡ä»¶éƒ½æ‰“åŒ…åˆ° dist ä¸­ï¼Œæ­¤æ—¶åº”è¯¥åˆ æ‰publicPathé…ç½®</span>
    <span class="token comment">// publicPath: &quot;dist/&quot;,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é….cssæ–‡ä»¶</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>

        <span class="token comment">// style-loader å°†æ¨¡å—å¯¼å‡ºä½œä¸ºstyleæ·»åŠ åˆ°DOMä¸­</span>
        <span class="token comment">// css-loaderè§£æcssæ–‡ä»¶åï¼Œä½¿ç”¨importåŠ è½½ï¼Œå¹¶è¿”å›cssä»£ç </span>
        <span class="token comment">// ä½¿ç”¨å¤šä¸ªloaderæ—¶ï¼Œä»å³åˆ°å·¦åŠ è½½ã€‚é¡ºåºä¸èƒ½ä¹±ï¼</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token comment">// creates style nodes from JS strings</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token comment">// translates CSS into CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span> <span class="token comment">// compiles Less to CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å½“å›¾ç‰‡å¤§å°å°äº limit æ—¶ï¼Œä¼šè¢«ç¼–è¯‘ä¸ºbase64å­—ç¬¦ä¸²</span>
              <span class="token comment">// å½“å¤§äº limit æ—¶ï¼Œä¼šä½¿ç”¨ file-loader è¿›è¡ŒåŠ è½½ï¼Œä»…éœ€è¦å®‰è£…ï¼</span>
              limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
              <span class="token comment">// img/ç›®å½•ä¸‹ï¼Œ[name]ä¸ºåŸåï¼Œ[hash:8]ä¸º8ä½å“ˆå¸Œå€¼ï¼Œ.[ext]ä¸ºåç¼€</span>
              name<span class="token operator">:</span> <span class="token string">'img/[name][hash:8].[ext]'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// æ’é™¤</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules|bower_components)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'es2015'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'vue-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨ .vue æ–‡ä»¶ä¸­å¯¼å…¥å¦‚ä¸‹æ–‡ä»¶æ—¶å¯ä»¥çœç•¥åç¼€</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.css'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// æŒ‡å®šå‘å¸ƒçš„ç‰ˆæœ¬</span>
      vue$<span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨ webpack 1 æ—¶éœ€ç”¨ 'vue/dist/vue.common.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¯·ç¡®ä¿å¼•å…¥è¿™ä¸ªæ’ä»¶ï¼</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// banneræ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'æœ€ç»ˆç‰ˆæƒå½’conananæ‰€æœ‰'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// htmlWebpackPlugin æ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">htmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      template<span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// uglifyjsWebpackPlugin æ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">uglifyjsWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br></div></div></li> <li><p>é‡æ–°æ‰“åŒ…<code>webpack</code>æˆ–<code>npn run build</code>ã€‚æŸ¥çœ‹ bundle.js æ–‡ä»¶</p></li></ol> <h2 id="webpack-dev-server-ğŸ”¥"><a href="#webpack-dev-server-ğŸ”¥" class="header-anchor">#</a> webpack-dev-server ğŸ”¥</h2> <p>webpack æä¾›äº†ä¸€ä¸ªå¯é€‰çš„æœ¬åœ°å¼€å‘æœåŠ¡å™¨ï¼ŒåŸºäº node æ­å»ºï¼Œå†…éƒ¨ä½¿ç”¨ express æ¡†æ¶ï¼Œå¯ä»¥å®ç°æµè§ˆå™¨è‡ªåŠ¨â€œåˆ·æ–°â€æ˜¾ç¤ºæˆ‘ä»¬ä¿®æ”¹åçš„ç»“æœã€‚ä¸è¿‡å®ƒæ˜¯ä¸€ä¸ªå•ç‹¬çš„æ¨¡å—ï¼Œéœ€è¦å…ˆå®‰è£…ã€‚</p> <ol><li><p>å®‰è£…ï¼ˆç‰ˆæœ¬å·è¿˜æ˜¯ç”±äº webpack 3.6.*ï¼‰</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack-dev-server@2.9.1 --save-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>ä¿®æ”¹ webpack.config.js ä¸­ devServer å†…å®¹</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.json</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader/lib/plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> htmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> uglifyjsWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'uglifyjs-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token comment">// è¾“å‡ºæ¶‰åŠurlæ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å‰é¢æ·»åŠ è¯¥å­—ç¬¦ä¸²ã€‚å®é™…ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰æ–‡ä»¶éƒ½æ‰“åŒ…åˆ° dist ä¸­ï¼Œæ­¤æ—¶åº”è¯¥åˆ æ‰publicPathé…ç½®</span>
    <span class="token comment">// publicPath: &quot;dist/&quot;,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é….cssæ–‡ä»¶</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>

        <span class="token comment">// style-loader å°†æ¨¡å—å¯¼å‡ºä½œä¸ºstyleæ·»åŠ åˆ°DOMä¸­</span>
        <span class="token comment">// css-loaderè§£æcssæ–‡ä»¶åï¼Œä½¿ç”¨importåŠ è½½ï¼Œå¹¶è¿”å›cssä»£ç </span>
        <span class="token comment">// ä½¿ç”¨å¤šä¸ªloaderæ—¶ï¼Œä»å³åˆ°å·¦åŠ è½½ã€‚é¡ºåºä¸èƒ½ä¹±ï¼</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token comment">// creates style nodes from JS strings</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token comment">// translates CSS into CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span> <span class="token comment">// compiles Less to CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å½“å›¾ç‰‡å¤§å°å°äº limit æ—¶ï¼Œä¼šè¢«ç¼–è¯‘ä¸ºbase64å­—ç¬¦ä¸²</span>
              <span class="token comment">// å½“å¤§äº limit æ—¶ï¼Œä¼šä½¿ç”¨ file-loader è¿›è¡ŒåŠ è½½ï¼Œä»…éœ€è¦å®‰è£…ï¼</span>
              limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
              <span class="token comment">// img/ç›®å½•ä¸‹ï¼Œ[name]ä¸ºåŸåï¼Œ[hash:8]ä¸º8ä½å“ˆå¸Œå€¼ï¼Œ.[ext]ä¸ºåç¼€</span>
              name<span class="token operator">:</span> <span class="token string">'img/[name][hash:8].[ext]'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// æ’é™¤</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules|bower_components)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'es2015'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'vue-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨ .vue æ–‡ä»¶ä¸­å¯¼å…¥å¦‚ä¸‹æ–‡ä»¶æ—¶å¯ä»¥çœç•¥åç¼€</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.css'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// æŒ‡å®šå‘å¸ƒçš„ç‰ˆæœ¬</span>
      vue$<span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨ webpack 1 æ—¶éœ€ç”¨ 'vue/dist/vue.common.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¯·ç¡®ä¿å¼•å…¥è¿™ä¸ªæ’ä»¶ï¼</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// banneræ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'æœ€ç»ˆç‰ˆæƒå½’conananæ‰€æœ‰'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// htmlWebpackPlugin æ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">htmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      template<span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// uglifyjsWebpackPlugin æ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">uglifyjsWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¸ºé‚£ä¸ªç›®å½•æä¾›æœ¬åœ°æœåŠ¡ï¼Œé»˜è®¤æ˜¯é¡¹ç›®æ ¹ç›®å½•</span>
    contentBase<span class="token operator">:</span> <span class="token string">'./dist'</span><span class="token punctuation">,</span>
    <span class="token comment">// é¡µé¢å®æ—¶åˆ·æ–°</span>
    inline<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// ç«¯å£</span>
    port<span class="token operator">:</span> <span class="token number">9999</span><span class="token punctuation">,</span>
    <span class="token comment">// åœ¨SPAä¸­ï¼Œä¾èµ–H5çš„historyæ¨¡å¼</span>
    <span class="token comment">// historyApiFallback,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br></div></div></li> <li><p>æ‰§è¡Œ<code>webpack-dev-server</code>å‘ç°æ²¡æœ‰è¯¥å‘½ä»¤ï¼ŒåŸå› æ˜¯å®‰è£…åˆ°æœ¬åœ°ï¼Œå¯ä»¥åœ¨ package.json ä¸­é…ç½® scriptsï¼Œå³å¯å®ç°é»˜è®¤æŸ¥æ‰¾æœ¬åœ° node_modules ä¸­å‘½ä»¤ã€‚<code>--open</code>å¯ä»¥åœ¨æœåŠ¡å¯åŠ¨åè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --open&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>ä½†æ˜¯å‘ç°æ— æ³•å¯åŠ¨ï¼ŒæŠ¥é”™</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>ERROR in bundle.js from UglifyJs
Unexpected token: name (urlParts) [bundle.js:4153,4]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>å‚è€ƒè¿™ä¸ª<a href="https://www.cnblogs.com/aredleave/p/7586911.html" target="_blank" rel="noopener noreferrer">åšå®¢<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œè™½ç„¶å¯ä»¥å¯åŠ¨äº†ï¼Œä½†æ˜¯ä¿®æ”¹æ–‡ä»¶åè¿˜æ˜¯æŠ¥é”™ã€‚ç®—äº†ï¼ˆæ‰€ä»¥ç›®å‰ä»£ç  5 webpack-plugins å¯èƒ½æœ‰é—®é¢˜ï¼Œæ¥ä¸‹æ¥å°±è§£å†³äº†ï¼‰</p></li></ol> <h2 id="é…ç½®æ–‡ä»¶åˆ†ç¦»-ğŸ”¥"><a href="#é…ç½®æ–‡ä»¶åˆ†ç¦»-ğŸ”¥" class="header-anchor">#</a> é…ç½®æ–‡ä»¶åˆ†ç¦» ğŸ”¥</h2> <p>è¿™é‡Œå°±æœ‰é—®é¢˜äº†ï¼Œwebpack.config.js ä¸­çš„é…ç½®ï¼Œæœ‰äº›æ˜¯å¼€å‘æ¨¡å¼éœ€è¦çš„ï¼Œæœ‰äº›æ‰æ˜¯å‘å¸ƒæ¨¡å¼éœ€è¦çš„ï¼Œå¦‚ä½•åˆ†ç¦»ï¼Ÿå¹¶ä¸”å¼€å‘æ¨¡å¼æ—¶ä½¿ç”¨ uglifyjs æ’ä»¶ä¼šæ— æ³•è°ƒè¯•ï¼Œå¦‚ä½•è§£å†³ï¼Ÿæ­¤æ—¶éœ€è¦ webpack çš„<strong>é…ç½®æ–‡ä»¶åˆ†ç¦»</strong>ã€‚</p> <ol><li><p>å®‰è£…ä¾èµ–</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack-merge --save-dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>build/base.config.jsã€‚æ³¨æ„ output ç›®å½•çš„æ”¹å˜</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// åŸºç¡€ä¾èµ–</span>
<span class="token comment">// è¿™ä¸ªä¼šä» node ä¸­æŸ¥æ‰¾ï¼Œéœ€è¦ npm init æ¥ç”Ÿæˆ package.json</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> VueLoaderPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-loader/lib/plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> htmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// path éœ€è¦å†™ç»å¯¹è·¯å¾„ï¼Œä½†åˆä¸èƒ½ç›´æ¥æŒ‡å®šï¼Œå¯ä»¥åŠ¨æ€è·å–ï¼ˆé‡‡ç”¨ node è¯­æ³•ï¼‰</span>
    <span class="token comment">// é…ç½®æ–‡ä»¶åˆ†ç¦»åéœ€è¦ä¿®æ”¹ path</span>
    path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'../dist'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">'bundle.js'</span><span class="token punctuation">,</span>
    <span class="token comment">// è¾“å‡ºæ¶‰åŠurlæ—¶ï¼Œä¼šè‡ªåŠ¨åœ¨å‰é¢æ·»åŠ è¯¥å­—ç¬¦ä¸²ã€‚å®é™…ä¸­ï¼Œä¼šæŠŠæ‰€æœ‰æ–‡ä»¶éƒ½æ‰“åŒ…åˆ° dist ä¸­ï¼Œæ­¤æ—¶åº”è¯¥åˆ æ‰publicPathé…ç½®</span>
    <span class="token comment">// publicPath: &quot;dist/&quot;,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// åŒ¹é….cssæ–‡ä»¶</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>

        <span class="token comment">// style-loader å°†æ¨¡å—å¯¼å‡ºä½œä¸ºstyleæ·»åŠ åˆ°DOMä¸­</span>
        <span class="token comment">// css-loaderè§£æcssæ–‡ä»¶åï¼Œä½¿ç”¨importåŠ è½½ï¼Œå¹¶è¿”å›cssä»£ç </span>
        <span class="token comment">// ä½¿ç”¨å¤šä¸ªloaderæ—¶ï¼Œä»å³åˆ°å·¦åŠ è½½ã€‚é¡ºåºä¸èƒ½ä¹±ï¼</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token string">'css-loader'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'style-loader'</span><span class="token punctuation">,</span> <span class="token comment">// creates style nodes from JS strings</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'css-loader'</span><span class="token punctuation">,</span> <span class="token comment">// translates CSS into CommonJS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'less-loader'</span><span class="token punctuation">,</span> <span class="token comment">// compiles Less to CSS</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpg|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">'url-loader'</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// å½“å›¾ç‰‡å¤§å°å°äº limit æ—¶ï¼Œä¼šè¢«ç¼–è¯‘ä¸ºbase64å­—ç¬¦ä¸²</span>
              <span class="token comment">// å½“å¤§äº limit æ—¶ï¼Œä¼šä½¿ç”¨ file-loader è¿›è¡ŒåŠ è½½ï¼Œä»…éœ€è¦å®‰è£…ï¼</span>
              limit<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span>
              <span class="token comment">// img/ç›®å½•ä¸‹ï¼Œ[name]ä¸ºåŸåï¼Œ[hash:8]ä¸º8ä½å“ˆå¸Œå€¼ï¼Œ.[ext]ä¸ºåç¼€</span>
              name<span class="token operator">:</span> <span class="token string">'img/[name][hash:8].[ext]'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token comment">// æ’é™¤</span>
        exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">(node_modules|bower_components)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">{</span>
          loader<span class="token operator">:</span> <span class="token string">'babel-loader'</span><span class="token punctuation">,</span>
          options<span class="token operator">:</span> <span class="token punctuation">{</span>
            presets<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'es2015'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.vue$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        loader<span class="token operator">:</span> <span class="token string">'vue-loader'</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  resolve<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// åœ¨ .vue æ–‡ä»¶ä¸­å¯¼å…¥å¦‚ä¸‹æ–‡ä»¶æ—¶å¯ä»¥çœç•¥åç¼€</span>
    extensions<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'.js'</span><span class="token punctuation">,</span> <span class="token string">'.vue'</span><span class="token punctuation">,</span> <span class="token string">'.css'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    alias<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// æŒ‡å®šå‘å¸ƒçš„ç‰ˆæœ¬</span>
      vue$<span class="token operator">:</span> <span class="token string">'vue/dist/vue.esm.js'</span><span class="token punctuation">,</span> <span class="token comment">// ç”¨ webpack 1 æ—¶éœ€ç”¨ 'vue/dist/vue.common.js'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// è¯·ç¡®ä¿å¼•å…¥è¿™ä¸ªæ’ä»¶ï¼</span>
    <span class="token keyword">new</span> <span class="token class-name">VueLoaderPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// banneræ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>BannerPlugin</span><span class="token punctuation">(</span><span class="token string">'æœ€ç»ˆç‰ˆæƒå½’conananæ‰€æœ‰'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// htmlWebpackPlugin æ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">htmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      template<span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br></div></div></li> <li><p>build/dev.config.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// å¼€å‘æ—¶é…ç½®</span>
<span class="token keyword">const</span> baseConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./base.config'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpackMerge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">webpackMerge</span><span class="token punctuation">(</span>baseConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¸ºé‚£ä¸ªç›®å½•æä¾›æœ¬åœ°æœåŠ¡ï¼Œé»˜è®¤æ˜¯é¡¹ç›®æ ¹ç›®å½•</span>
    contentBase<span class="token operator">:</span> <span class="token string">'./dist'</span><span class="token punctuation">,</span>
    <span class="token comment">// é¡µé¢å®æ—¶åˆ·æ–°</span>
    inline<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token comment">// ç«¯å£</span>
    port<span class="token operator">:</span> <span class="token number">9999</span><span class="token punctuation">,</span>
    <span class="token comment">// åœ¨SPAä¸­ï¼Œä¾èµ–H5çš„historyæ¨¡å¼</span>
    <span class="token comment">// historyApiFallback,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li> <li><p>build/prod.config.js</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// ç”Ÿäº§æ—¶ä¾èµ–</span>
<span class="token keyword">const</span> uglifyjsWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'uglifyjs-webpack-plugin'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> baseConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./base.config'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpackMerge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'webpack-merge'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">webpackMerge</span><span class="token punctuation">(</span>baseConfig<span class="token punctuation">,</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// uglifyjsWebpackPlugin æ’ä»¶</span>
    <span class="token keyword">new</span> <span class="token class-name">uglifyjsWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li> <li><p>åˆ æ‰ä¹‹å‰çš„ webpack.config.jsï¼Œæ­¤æ—¶å‘½ä»¤å°±ä¸èƒ½ä½¿ç”¨äº†ï¼Œéœ€è¦ä¿®æ”¹é…ç½® package.json</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --open --config ./build/dev.config.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config ./build/prod.config.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>æ‰§è¡Œä¸Šè¿°å‘½ä»¤ï¼Œå‘ç°ä¸€åˆ‡éƒ½å¥½äº†ï¼ğŸ˜„</p></li></ol> <h2 id="å…¶ä»–ï¼ˆæ—§ï¼‰"><a href="#å…¶ä»–ï¼ˆæ—§ï¼‰" class="header-anchor">#</a> å…¶ä»–ï¼ˆæ—§ï¼‰</h2> <p>webpack-dev-server å¼€å‘æœåŠ¡å™¨ï¼Œå®ƒçš„åŠŸèƒ½å¯ä»¥å®ç°çƒ­åŠ è½½å¹¶ä¸”è‡ªåŠ¨åˆ·æ–°æµè§ˆå™¨ã€‚</p> <ol><li><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ç¨‹åºç›®å½•ï¼Œè¿™é‡Œæˆ‘ä»¬åˆ›å»º<code>webpacktest</code>ç›®å½•ï¼Œå°† webpack å…¥é—¨ç¨‹åºçš„ä»£ç æ‹·è´è¿›æ¥ï¼Œå¹¶åœ¨ç›®å½•ä¸‹åˆ›å»º<code>src</code>ç›®å½•ã€<code>dist</code>ç›®å½•ã€‚å°†<code>main.js</code>ï¼Œ<code>module01.js</code>å’Œ<code>vue.min.js</code>æ‹·è´åˆ° src ç›®å½•ã€‚html æ–‡ä»¶æ‹·è´åˆ°å½“å‰ç›®å½•ä¸‹ã€‚</p></li> <li><p>ä½¿ç”¨ webpack-dev-server éœ€è¦<strong>å®‰è£… webpack</strong>ã€ <strong>webpack-dev-server</strong>å’Œ <strong>html-webpack-plugin</strong>ä¸‰ä¸ªåŒ…åœ¨å½“å‰ç¨‹åºç›®å½•</p> <p><code>cnpm install webpack@3.6.0 webpack-dev-server@2.9.1 html-webpack-plugin@2.30.1 --save-dev</code></p> <p>å®‰è£…å®Œæˆåç¨‹åºç›®å½•å‡ºç°**<code>package.json</code>æ–‡ä»¶**ï¼Œæ­¤æ–‡ä»¶ä¸­è®°å½•äº†ç¨‹åºçš„<strong>ä¾èµ–ä¿¡æ¯</strong>ï¼ˆä¸Šé¢ä¸‰ä¸ªï¼‰</p> <p>è¿˜æœ‰**<code>node_modules</code>æ–‡ä»¶å¤¹**ï¼Œæœ‰ 993 ä¸ªæ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼ï¼ï¼å­˜æ”¾æœ¬ç¨‹åºæ‰€<strong>ä¾èµ–çš„åŒ…</strong>ï¼</p></li> <li><p><strong>é…ç½® webpack-dev-server</strong>ï¼Œåœ¨<code>package.json</code>ä¸­é…ç½® scriptï¼ˆè¿è¡Œå‘½ä»¤ï¼‰ï¼Œæœ€ç»ˆå†…å®¹å¦‚ä¸‹</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --inline --hot --open --port 5008&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;html-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.30.1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.6.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-dev-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.9.1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><code>scripts</code>ï¼šå¯æ‰§è¡Œçš„å‘½ä»¤</p> <p><code>--inline</code>ï¼šè‡ªåŠ¨åˆ·æ–°ï¼›<code>--hot</code>ï¼šçƒ­åŠ è½½ï¼›<code>--open</code>ï¼šè‡ªåŠ¨åœ¨é»˜è®¤æµè§ˆå™¨æ‰“å¼€ï¼›<code>--port</code>ï¼šæŒ‡å®šç«¯å£ï¼›</p> <p><code>--host</code>ï¼šå¯ä»¥æŒ‡å®šæœåŠ¡å™¨çš„ ipï¼Œä¸æŒ‡å®šåˆ™ä¸º 127.0.0.1ï¼Œå¦‚æœå¯¹å¤–å‘å¸ƒåˆ™å¡«å†™å…¬ç½‘ ip åœ°å€</p> <p><code>devDependencies</code>ï¼šå¼€å‘äººå‘˜åœ¨å¼€å‘è¿‡ç¨‹ä¸­æ‰€éœ€è¦çš„ä¾èµ–</p></li> <li><p><strong>é…ç½®<code>webpack.config.js</code></strong>ï¼Œæ˜¯ webpack çš„é…ç½®æ–‡ä»¶ï¼Œåœ¨æ­¤æ–‡ä»¶ä¸­å¯ä»¥é…ç½®åº”ç”¨çš„å…¥å£æ–‡ä»¶ã€è¾“å‡ºé…ç½®ã€æ’ä»¶ç­‰ï¼Œå…¶ä¸­è¦å®ç°çƒ­åŠ è½½è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½éœ€è¦é…ç½® html-webpack-plugin æ’ä»¶ã€‚html-webpack-plugin çš„ä½œç”¨æ˜¯æ ¹æ® html æ¨¡æ¿åœ¨å†…å­˜ç”Ÿæˆ html æ–‡ä»¶ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯<strong>æ ¹æ®æ¨¡æ¿æ–‡ä»¶åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ª index.html æ–‡ä»¶</strong>ã€‚</p> <ol><li><p>é…ç½®<strong>æ¨¡æ¿æ–‡ä»¶</strong>ã€‚å°†åŸæ¥çš„<code>vue.html</code>ä½œä¸ºæ¨¡æ¿æ–‡ä»¶ï¼Œä¸ºäº†å’Œå†…å­˜ä¸­çš„<code>index.html</code>æ–‡ä»¶ååŒºåˆ«ï¼Œæ³¨æ„å°†<code>vue.html</code>ä¸­çš„æ‰€æœ‰<code>script</code>æ ‡ç­¾å»æ‰</p></li> <li><p>åœ¨<code>webpack.config.js</code>ï¼ˆä¸<code>package.json</code>åŒç›®å½•ï¼‰ä¸­é…ç½®<code>html-webpack-plugin</code>æ’ä»¶</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">//å¼•ç”¨html-webpack-pluginæ’ä»¶ï¼Œä½œç”¨æ˜¯æ ¹æ®htmlæ¨¡æ¿åœ¨å†…å­˜ç”Ÿæˆhtmlæ–‡ä»¶ï¼Œå®ƒçš„å·¥ä½œåŸç†æ˜¯æ ¹æ®æ¨¡æ¿æ–‡ä»¶åœ¨å†…å­˜ä¸­ç”Ÿæˆä¸€ä¸ªindex.htmlæ–‡ä»¶ã€‚</span>
<span class="token keyword">var</span> htmlwp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'html-webpack-plugin'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token string">'./src/main.js'</span><span class="token punctuation">,</span> <span class="token comment">//æŒ‡å®šæ‰“åŒ…çš„å…¥å£æ–‡ä»¶</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    path<span class="token operator">:</span> __dirname <span class="token operator">+</span> <span class="token string">'/dist'</span><span class="token punctuation">,</span> <span class="token comment">// æ³¨æ„ï¼š__dirnameè¡¨ç¤ºwebpack.config.jsæ‰€åœ¨ç›®å½•çš„ç»å¯¹è·¯å¾„</span>
    filename<span class="token operator">:</span> <span class="token string">'build.js'</span><span class="token punctuation">,</span> <span class="token comment">//è¾“å‡ºæ–‡ä»¶</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  devtool<span class="token operator">:</span> <span class="token string">'eval-source-map'</span><span class="token punctuation">,</span> <span class="token comment">//Debugè°ƒè¯•</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">htmlwp</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      title<span class="token operator">:</span> <span class="token string">'é¦–é¡µ'</span><span class="token punctuation">,</span> <span class="token comment">//ç”Ÿæˆçš„é¡µé¢æ ‡é¢˜&lt;head&gt;&lt;title&gt;é¦–é¡µ&lt;/title&gt;&lt;/head&gt;</span>
      filename<span class="token operator">:</span> <span class="token string">'index.html'</span><span class="token punctuation">,</span> <span class="token comment">//webpack-dev-serveråœ¨å†…å­˜ä¸­ç”Ÿæˆçš„æ–‡ä»¶åç§°ï¼Œè‡ªåŠ¨å°†buildæ³¨å…¥åˆ°è¿™ä¸ªé¡µé¢åº•éƒ¨ï¼Œæ‰èƒ½å®ç°è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½</span>
      template<span class="token operator">:</span> <span class="token string">'vue.html'</span><span class="token punctuation">,</span> <span class="token comment">//æ ¹æ®vue.htmlè¿™ä¸ªæ¨¡æ¿æ¥ç”Ÿæˆ(è¿™ä¸ªæ–‡ä»¶è¯·ç¨‹åºå‘˜è‡ªå·±ç”Ÿæˆ)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li></ol></li> <li><p>è¿è¡Œ</p> <ul><li><p>åœ¨<code>webpacktest</code>ç›®å½•ï¼Œæ‰§è¡Œ**<code>npm run dev</code>**ã€‚</p></li> <li><p>æˆ–ä½¿ç”¨ webstormï¼Œå³é”®<code>package.json</code>æ–‡ä»¶ï¼Œé€‰æ‹©<code>â€œShow npm Scriptsâ€</code>ï¼ŒåŒå‡» dev å³å¯</p> <p>ã€æ³¨æ„ã€‘dev å°±æ˜¯åœ¨<code>package.json</code>ä¸­é…ç½®çš„<code>webpack-dev-server......</code>å‘½ä»¤ã€‚</p> <p>å¯åŠ¨æˆåŠŸè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨ã€‚ä¿®æ”¹ src ä¸­çš„ä»»æ„æ–‡ä»¶å†…å®¹ï¼Œè‡ªåŠ¨åŠ è½½å¹¶åˆ·æ–°æµè§ˆå™¨ã€‚</p></li></ul></li> <li><p>Debug è°ƒè¯•</p> <p>ä½¿ç”¨äº† webpack ä¹‹åå°±ä¸èƒ½é‡‡ç”¨ä¼ ç»Ÿ js çš„è°ƒè¯•æ–¹æ³•åœ¨ chrome ä¸­æ‰“æ–­ç‚¹ï¼ˆå› ä¸ºæ‰“åŒ…äº†ï¼å†…å®¹å‘ç”Ÿå˜åŒ–ï¼‰</p> <p>webpack æä¾› devtool è¿›è¡Œè°ƒè¯•ï¼Œå®ƒæ˜¯åŸºäº sourcemap çš„æ–¹å¼ï¼Œåœ¨è°ƒè¯•æ—¶ä¼šç”Ÿæˆä¸€ä¸ª map æ–‡ä»¶ï¼Œå…¶å†…å®¹è®°å½•ç”Ÿæˆæ–‡ä»¶å’Œæºæ–‡ä»¶çš„å†…å®¹æ˜ å°„ï¼Œå³ç”Ÿæˆæ–‡ä»¶ä¸­çš„å“ªä¸ªä½ç½®å¯¹åº”æºæ–‡ä»¶ä¸­çš„å“ªä¸ªä½ç½®ï¼Œæœ‰äº† sourcemap å°±å¯ä»¥åœ¨è°ƒè¯•æ—¶çœ‹åˆ°æºä»£ç ã€‚</p> <ul><li>åœ¨ webpack.config.js ä¸­é…ç½®ï¼š<code>devtool: 'evalâ€sourceâ€map',</code>å…·ä½“æŸ¥çœ‹ä¸Šé¢çš„ä»£ç </li> <li>åœ¨ js ä¸­è·Ÿè¸ªä»£ç çš„ä½ç½®ä¸Šæ·»åŠ <strong>debugger</strong>ï¼Œå¼€å¯æµè§ˆå™¨å¼€å‘è€…å·¥å…·â€¦â€¦</li></ul></li></ol></div></div> <div class="page-slot page-slot-bottom"><!-- æ¨ªå‘è‡ªé€‚åº” -->
      <ins class="adsbygoogle"
          style="display:block"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="6620245489"
          data-ad-format="auto"
          data-full-width-responsive="true"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/xugaoyi/vuepress-theme-vdoing/edit/master/docs/1301.Webpack/200.Webpack3/101.å…¥é—¨.md" target="_blank" rel="noopener noreferrer">ç¼–è¾‘</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----> <div class="last-updated"><span class="prefix">ä¸Šæ¬¡æ›´æ–°:</span> <span class="time">2022/01/17, 00:21:11</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/6f1f8f/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">å…¥é—¨</div></a> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/pages/6f1f8f/" class="prev">å…¥é—¨</a></span> <!----></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">æœ€è¿‘æ›´æ–°</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/fa4384/"><div>Vuex</div></a> <span>02-08</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/47a190/"><div>çŠ¶æ€ç®¡ç†</div></a> <span>02-08</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/1c8fc2/"><div>VueRouter</div></a> <span>02-08</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">æ›´å¤šæ–‡ç« &gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:wu_haonan@qq.com" title="å‘é‚®ä»¶" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/apple54whn" title="GitHub" target="_blank" class="iconfont icon-github"></a><a title="å¬éŸ³ä¹" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="æœ¬ç«™ä¸»é¢˜">Vdoing</a> 
    | Copyright Â© 2019-2022
    <span></span></div> <div class="buttons"><div title="è¿”å›é¡¶éƒ¨" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="å»è¯„è®º" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="ä¸»é¢˜æ¨¡å¼" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">è·Ÿéšç³»ç»Ÿ</li><li class="iconfont icon-rijianmoshi">æµ…è‰²æ¨¡å¼</li><li class="iconfont icon-yejianmoshi">æ·±è‰²æ¨¡å¼</li><li class="iconfont icon-yuedu">é˜…è¯»æ¨¡å¼</li></ul></div></div> <!----> <!----> <div class="custom-html-window custom-html-window-rb" style="display:;"><div class="custom-wrapper"><i class="close-but">Ã—</i> <div><!-- å›ºå®š160*160px -->
      <ins class="adsbygoogle"
          style="display:inline-block;max-width:160px;max-height:160px"
          data-ad-client="ca-pub-7828333725993554"
          data-ad-slot="8377369658"></ins>
      <script>
          (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      </div></div></div></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.b0138120.js" defer></script><script src="/assets/js/2.d80cefae.js" defer></script><script src="/assets/js/10.dc3d9276.js" defer></script>
  </body>
</html>