---
title: ç»„ä»¶åŒ–å¼€å‘
date: 2020-12-27 00:30:57
permalink: /pages/15ab90/
categories:
  - Vue
  - ç»„ä»¶
tags:
  - 
---
# ç»„ä»¶åŒ–å¼€å‘

å°±æ˜¯ä¸ºäº†å°è£…&å¤ç”¨



## ä½¿ç”¨æ­¥éª¤

1.  åˆ›å»ºç»„ä»¶æ„é€ å™¨
2.  æ³¨å†Œç»„ä»¶
3.  ä½¿ç”¨ç»„ä»¶

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <!-- 3 ä½¿ç”¨ç»„ä»¶ -->
      <my-component></my-component>
      <my-component></my-component>
    </div>

    <script src="/lib/vue.js"></script>
    <script>
      // 1 åˆ›å»ºç»„ä»¶æ„é€ å™¨ã€‚å«ä¹‰å¦‚ä¸‹ï¼š
      // è°ƒç”¨Vue.extend()åˆ›å»ºçš„æ˜¯ä¸€ä¸ªç»„ä»¶æ„é€ å™¨
      // é€šå¸¸åœ¨åˆ›å»ºç»„ä»¶æ„é€ å™¨æ—¶ï¼Œä¼ å…¥templateä»£è¡¨æˆ‘ä»¬è‡ªå®šä¹‰çš„æ¨¡æ¿ï¼Œè¯¥æ¨¡æ¿å°±æ˜¯åœ¨ä½¿ç”¨åˆ°ç»„ä»¶çš„åœ°æ–¹ï¼Œè¦æ˜¾ç¤ºçš„HTMLä»£ç 
      // äº‹å®ä¸Šï¼Œè¯¥å†™æ³•åœ¨ Vue2.xçš„æ–‡æ¡£ä¸­å‡ ä¹å·²ç»çœ‹ä¸åˆ°äº†ï¼Œå®ƒä¼šç›´æ¥ä½¿ç”¨ä¸‹é¢è¦è®²åˆ°çš„è¯­æ³•ç³–
      const myComponent = Vue.extend({
        template: `
            <div>
                <h2>æ ‡é¢˜</h2>
                <p>å†…å®¹1</p>
                <p>å†…å®¹2</p>
            </div>`,
      });

      // 2 æ³¨å†Œç»„ä»¶
      Vue.component("my-component", myComponent);

      const vm = new Vue({
        el: "#app",
        data: {
          message: "Hello",
        },
        methods: {},
      });
    </script>
  </body>
</html>
```





## å…¨å±€ç»„ä»¶

**è°ƒç”¨ Vue.component() æ³¨å†Œçš„ä¸ºå…¨å±€ç»„ä»¶**

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <!-- 3 ä½¿ç”¨ç»„ä»¶ -->
      <!-- ç»„ä»¶å¿…é¡»æŒ‚è½½åœ¨æŸä¸ª Vue å®ä¾‹ä¸‹ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ -->
      <my-component></my-component>
      <div><my-component></my-component></div>
    </div>
    <!-- ä¸ç”Ÿæ•ˆ -->
    <my-component></my-component>

    <div id="app2">
      <!-- 3 ä½¿ç”¨ç»„ä»¶ -->
      <!-- ç»„ä»¶å¿…é¡»æŒ‚è½½åœ¨æŸä¸ª Vue å®ä¾‹ä¸‹ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ -->
      <my-component></my-component>
      <div><my-component></my-component></div>
    </div>

    <script src="/lib/vue.js"></script>
    <script>
      // 1 åˆ›å»ºç»„ä»¶æ„é€ å™¨ã€‚å«ä¹‰å¦‚ä¸‹ï¼š
      // è°ƒç”¨Vue.extend()åˆ›å»ºçš„æ˜¯ä¸€ä¸ªç»„ä»¶æ„é€ å™¨
      // é€šå¸¸åœ¨åˆ›å»ºç»„ä»¶æ„é€ å™¨æ—¶ï¼Œä¼ å…¥templateä»£è¡¨æˆ‘ä»¬è‡ªå®šä¹‰çš„æ¨¡æ¿ï¼Œè¯¥æ¨¡æ¿å°±æ˜¯åœ¨ä½¿ç”¨åˆ°ç»„ä»¶çš„åœ°æ–¹ï¼Œè¦æ˜¾ç¤ºçš„HTMLä»£ç 
      // äº‹å®ä¸Šï¼Œè¯¥å†™æ³•åœ¨ Vue2.xçš„æ–‡æ¡£ä¸­å‡ ä¹å·²ç»çœ‹ä¸åˆ°äº†ï¼Œå®ƒä¼šç›´æ¥ä½¿ç”¨ä¸‹é¢è¦è®²åˆ°çš„è¯­æ³•ç³–
      const myComponent = Vue.extend({
        template: `
            <div>
                <h2>æ ‡é¢˜</h2>
                <p>å†…å®¹1</p>
                <p>å†…å®¹2</p>
            </div>`,
      });

      // 2 æ³¨å†Œç»„ä»¶ï¼ˆè¯¥æ–¹å¼ç»„å†Œçš„ä¸ºå…¨å±€ç»„ä»¶ï¼Œæ„å‘³ç€å¯ä»¥åœ¨å¤šä¸ª Vue å®ä¾‹ä¸‹ä½¿ç”¨ï¼‰
      // è°ƒç”¨ Vue.component() æ˜¯å°†åˆšæ‰çš„ç»„ä»¶æ„é€ å™¨æ³¨å†Œä¸ºä¸€ä¸ªå…¨å±€ç»„ä»¶ï¼Œå¹¶ç»™å®ƒèµ·ä¸€ä¸ªç»„ä»¶çš„æ ‡ç­¾åç§°
      Vue.component("my-component", myComponent);

      const vm = new Vue({
        el: "#app",
        data: {
          message: "Hello",
        },
      });

      const vm2 = new Vue({
        el: "#app2",
        data: {
          message: "Hello",
        },
      });
    </script>
  </body>
</html>
```





## å±€éƒ¨ç»„ä»¶ ğŸ”¥

å¼€å‘ä¸­ä¸€èˆ¬è¿˜æ˜¯æ›´å¤šä½¿ç”¨å±€éƒ¨ç»„ä»¶

**æ³¨å†Œåœ¨æŸä¸€ Vue å®ä¾‹ä¸­çš„ç»„ä»¶ä¸ºå±€éƒ¨ç»„ä»¶**

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <!-- 3 ä½¿ç”¨ç»„ä»¶ -->
      <!-- ç»„ä»¶å¿…é¡»æŒ‚è½½åœ¨æŸä¸ª Vue å®ä¾‹ä¸‹ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ -->
      <comp></comp>
      <div><comp></comp></div>
    </div>
    <!-- ä¸ç”Ÿæ•ˆ -->
    <comp></comp>

    <div id="app2">
      <!-- 3 ä½¿ç”¨ç»„ä»¶ -->
      <!-- ç»„ä»¶å¿…é¡»æŒ‚è½½åœ¨æŸä¸ª Vue å®ä¾‹ä¸‹ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ -->
      <comp></comp>
      <div><comp></comp></div>
    </div>

    <script src="/lib/vue.js"></script>
    <script>
      // 1 åˆ›å»ºç»„ä»¶æ„é€ å™¨ã€‚å«ä¹‰å¦‚ä¸‹ï¼š
      // è°ƒç”¨Vue.extend()åˆ›å»ºçš„æ˜¯ä¸€ä¸ªç»„ä»¶æ„é€ å™¨
      // é€šå¸¸åœ¨åˆ›å»ºç»„ä»¶æ„é€ å™¨æ—¶ï¼Œä¼ å…¥templateä»£è¡¨æˆ‘ä»¬è‡ªå®šä¹‰çš„æ¨¡æ¿ï¼Œè¯¥æ¨¡æ¿å°±æ˜¯åœ¨ä½¿ç”¨åˆ°ç»„ä»¶çš„åœ°æ–¹ï¼Œè¦æ˜¾ç¤ºçš„HTMLä»£ç 
      // äº‹å®ä¸Šï¼Œè¯¥å†™æ³•åœ¨ Vue2.xçš„æ–‡æ¡£ä¸­å‡ ä¹å·²ç»çœ‹ä¸åˆ°äº†ï¼Œå®ƒä¼šç›´æ¥ä½¿ç”¨ä¸‹é¢è¦è®²åˆ°çš„è¯­æ³•ç³–
      const myComponent = Vue.extend({
        template: `
            <div>
                <h2>æ ‡é¢˜</h2>
                <p>å†…å®¹1</p>
                <p>å†…å®¹2</p>
            </div>`,
      });

      // 2 æ³¨å†Œç»„ä»¶ï¼ˆè¯¥æ–¹å¼ç»„å†Œçš„ä¸ºå…¨å±€ç»„ä»¶ï¼Œæ„å‘³ç€å¯ä»¥åœ¨å¤šä¸ª Vue å®ä¾‹ä¸‹ä½¿ç”¨ï¼‰
      // è°ƒç”¨ Vue.component() æ˜¯å°†åˆšæ‰çš„ç»„ä»¶æ„é€ å™¨æ³¨å†Œä¸ºä¸€ä¸ªå…¨å±€ç»„ä»¶ï¼Œå¹¶ç»™å®ƒèµ·ä¸€ä¸ªç»„ä»¶çš„æ ‡ç­¾åç§°
      //   Vue.component("my-component", myComponent);

      const vm = new Vue({
        el: "#app",
        data: {
          message: "Hello",
        },
        components: {
          comp: myComponent,
        },
      });

      const vm2 = new Vue({
        el: "#app2",
        data: {
          message: "Hello",
        },
      });
    </script>
  </body>
</html>
```



## çˆ¶ç»„ä»¶ & å­ç»„ä»¶

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <!-- 3 ä½¿ç”¨ç»„ä»¶ -->
      <!-- ç»„ä»¶å¿…é¡»æŒ‚è½½åœ¨æŸä¸ª Vue å®ä¾‹ä¸‹ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ -->
      <my-component2></my-component2>

      <!-- my-component1å¹¶æ²¡æœ‰åœ¨ app çš„ Vue å®ä¾‹ä¸­æ³¨å†Œï¼Œæ— æ³•ä½¿ç”¨ -->
      <my-component1></my-component1>
    </div>

    <script src="/lib/vue.js"></script>
    <script>
      // åˆ›å»ºç»„ä»¶æ„é€ å™¨1ï¼ˆå­ç»„ä»¶ï¼‰
      const myComponent1 = Vue.extend({
        template: `
            <div>
                <h2>æ ‡é¢˜1</h2>
                <p>å†…å®¹1</p>
            </div>`,
      });

      // åˆ›å»ºç»„ä»¶æ„é€ å™¨2ï¼ˆçˆ¶ç»„ä»¶ï¼‰
      const myComponent2 = Vue.extend({
        template: `
            <div>
                <h2>æ ‡é¢˜2</h2>
                <p>å†…å®¹2</p>
                <my-component1></my-component1>
            </div>`,
        components: {
          "my-component1": myComponent1,
        },
      });

      // root ç»„ä»¶
      const vm = new Vue({
        el: "#app",
        data: {
          message: "Hello",
        },
        components: {
          "my-component2": myComponent2,
        },
      });
    </script>
  </body>
</html>
```





## ç»„ä»¶åç§°å¤§å°å†™ ğŸ”¥

å®šä¹‰ç»„ä»¶åçš„æ–¹å¼æœ‰ä¸¤ç§ï¼š

### ä½¿ç”¨ kebab-case

```
Vue.component('my-component-name', { /* ... */ })
```

å½“ä½¿ç”¨ kebab-case (çŸ­æ¨ªçº¿åˆ†éš”å‘½å) å®šä¹‰ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œä½ ä¹Ÿå¿…é¡»åœ¨å¼•ç”¨è¿™ä¸ªè‡ªå®šä¹‰å…ƒç´ æ—¶ä½¿ç”¨ kebab-caseï¼Œä¾‹å¦‚ ``ã€‚

### ä½¿ç”¨ PascalCase ğŸ”¥

```
Vue.component('MyComponentName', { /* ... */ })
```

å½“ä½¿ç”¨ PascalCase (é¦–å­—æ¯å¤§å†™å‘½å) å®šä¹‰ä¸€ä¸ªç»„ä»¶æ—¶ï¼Œä½ åœ¨å¼•ç”¨è¿™ä¸ªè‡ªå®šä¹‰å…ƒç´ æ—¶ä¸¤ç§å‘½åæ³•éƒ½å¯ä»¥ä½¿ç”¨ã€‚æ³¨æ„ï¼Œå°½ç®¡å¦‚æ­¤ï¼Œç›´æ¥åœ¨ DOM (å³éå­—ç¬¦ä¸²çš„æ¨¡æ¿) ä¸­ä½¿ç”¨æ—¶åªæœ‰ kebab-case æ˜¯æœ‰æ•ˆçš„ã€‚



## ç»„ä»¶ç»„å†Œè¯­æ³•ç³– ğŸ”¥

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <!-- 3 ä½¿ç”¨ç»„ä»¶ -->
      <!-- ç»„ä»¶å¿…é¡»æŒ‚è½½åœ¨æŸä¸ª Vue å®ä¾‹ä¸‹ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ -->
      <my-component1></my-component1>
      <div><my-component2></my-component2></div>
    </div>

    <script src="/lib/vue.js"></script>
    <script>
      // 2 æ³¨å†Œç»„ä»¶ï¼ˆè¯¥æ–¹å¼ç»„å†Œçš„ä¸ºå…¨å±€ç»„ä»¶ï¼Œæ„å‘³ç€å¯ä»¥åœ¨å¤šä¸ª Vue å®ä¾‹ä¸‹ä½¿ç”¨ï¼‰ã€‚åº•å±‚è¿˜æ˜¯è°ƒç”¨Vue.extend()
      // è°ƒç”¨ Vue.component() æ˜¯å°†åˆšæ‰çš„ç»„ä»¶æ„é€ å™¨æ³¨å†Œä¸ºä¸€ä¸ªå…¨å±€ç»„ä»¶ï¼Œå¹¶ç»™å®ƒèµ·ä¸€ä¸ªç»„ä»¶çš„æ ‡ç­¾åç§°
      Vue.component("my-component1", {
        template: `
            <div>
                <h2>æ ‡é¢˜1</h2>
                <p>å†…å®¹1</p>
            </div>`,
      });

      const vm = new Vue({
        el: "#app",
        data: {
          message: "Hello",
        },
        components: {
          "my-component2": {
            template: `
            <div>
                <h2>æ ‡é¢˜2</h2>
                <p>å†…å®¹2</p>
            </div>`,
          },
        },
      });
    </script>
  </body>
</html>
```



## ç»„ä»¶æ¨¡æ¿åˆ†ç¦» ğŸ”¥

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <!-- 3 ä½¿ç”¨ç»„ä»¶ -->
      <!-- ç»„ä»¶å¿…é¡»æŒ‚è½½åœ¨æŸä¸ª Vue å®ä¾‹ä¸‹ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ -->
      <my-component1></my-component1>

      <div><my-component2></my-component2></div>
    </div>

    <!-- æ–¹å¼1:scriptæ ‡ç­¾ï¼Œtype="text/x-template" -->
    <script type="text/x-template" id="myComponent1">
      <div>
          <h2>æ ‡é¢˜1</h2>
          <p>å†…å®¹1</p>
      </div>
    </script>

    <!-- æ–¹å¼2:templateæ ‡ç­¾ã€‚æ¨è-->

    <template id="myComponent2">
      <div>
        <h2>æ ‡é¢˜2</h2>
        <p>å†…å®¹2</p>
      </div>
    </template>
    <script src="/lib/vue.js"></script>
    <script>
      // 2 æ³¨å†Œç»„ä»¶ï¼ˆè¯¥æ–¹å¼ç»„å†Œçš„ä¸ºå…¨å±€ç»„ä»¶ï¼Œæ„å‘³ç€å¯ä»¥åœ¨å¤šä¸ª Vue å®ä¾‹ä¸‹ä½¿ç”¨ï¼‰ã€‚åº•å±‚è¿˜æ˜¯è°ƒç”¨Vue.extend()
      // è°ƒç”¨ Vue.component() æ˜¯å°†åˆšæ‰çš„ç»„ä»¶æ„é€ å™¨æ³¨å†Œä¸ºä¸€ä¸ªå…¨å±€ç»„ä»¶ï¼Œå¹¶ç»™å®ƒèµ·ä¸€ä¸ªç»„ä»¶çš„æ ‡ç­¾åç§°
      Vue.component("my-component1", {
        template: "#myComponent1",
      });

      const MyComponent2 = {
        template: "#myComponent2",
      };

      const vm = new Vue({
        el: "#app",
        data: {
          message: "Hello",
        },
        // components: {
        //   myComponent2: myComponent2,
        // },
        // å¯¹è±¡å¢å¼ºå†™æ³•ï¼Œä½¿ç”¨æ—¶ï¼Œå¯ä»¥ä½¿ç”¨<my-omponent2>æˆ–<MyComponent2>ã€‚æ³¨æ„ä¸¤ç§å‘½åæ–¹å¼ä½¿ç”¨æ ‡ç­¾æ—¶çš„åŒºåˆ«
        components: {
          MyComponent2,
        },
      });
    </script>
  </body>
</html>
```





## ç»„ä»¶çš„æ•°æ® data ğŸ”¥ 

data å¿…é¡»æ˜¯ä¸€ä¸ª**è¿”å›**ç»„ä»¶ä¸­å®šä¹‰çš„å®ä¾‹**å¯¹è±¡**çš„ **function**ã€‚

å› ä¸ºç»„ä»¶æ˜¯ç”¨æ¥å¤ç”¨çš„ï¼Œè‹¥dataæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™å¤šä¸ªç»„ä»¶é—´å¯¹dataä¼šè¿›è¡Œæ•°æ®**å…±äº«**ï¼ä½¿ç”¨ function åæ¯ä¸ªç»„ä»¶éƒ½æœ‰å…¶è‡ªå·±çš„æ•°æ®ï¼Œäº’ä¸å¹²æ‰°ã€‚

 ```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <!-- 3 ä½¿ç”¨ç»„ä»¶ -->
      <!-- ç»„ä»¶å¿…é¡»æŒ‚è½½åœ¨æŸä¸ª Vue å®ä¾‹ä¸‹ï¼Œå¦åˆ™ä¸ç”Ÿæ•ˆ -->
      <my-component1></my-component1>

      <div><my-component2></my-component2></div>
    </div>

    <!-- æ–¹å¼1:scriptæ ‡ç­¾ï¼Œtype="text/x-template" -->
    <script type="text/x-template" id="myComponent1">
      <div>
          <h2>{{title}}</h2>
          <p>{{content}}</p>
      </div>
    </script>

    <!-- æ–¹å¼2:templateæ ‡ç­¾ -->

    <template id="myComponent2">
      <div>
        <h2>{{title}}</h2>
        <p>{{content}}</p>
      </div>
    </template>
    <script src="/lib/vue.js"></script>
    <script>
      // 2 æ³¨å†Œç»„ä»¶ï¼ˆè¯¥æ–¹å¼ç»„å†Œçš„ä¸ºå…¨å±€ç»„ä»¶ï¼Œæ„å‘³ç€å¯ä»¥åœ¨å¤šä¸ª Vue å®ä¾‹ä¸‹ä½¿ç”¨ï¼‰ã€‚åº•å±‚è¿˜æ˜¯è°ƒç”¨Vue.extend()
      // è°ƒç”¨ Vue.component() æ˜¯å°†åˆšæ‰çš„ç»„ä»¶æ„é€ å™¨æ³¨å†Œä¸ºä¸€ä¸ªå…¨å±€ç»„ä»¶ï¼Œå¹¶ç»™å®ƒèµ·ä¸€ä¸ªç»„ä»¶çš„æ ‡ç­¾åç§°
      Vue.component("my-component1", {
        template: "#myComponent1",
        data() {
          return {
            title: "æ ‡é¢˜111",
            content: "å†…å®¹111",
          };
        },
      });

      const myComponent2 = {
        template: "#myComponent2",
        data() {
          return {
            title: "æ ‡é¢˜222",
            content: "å†…å®¹222",
          };
        },
      };

      const vm = new Vue({
        el: "#app",
        data: {
          message: "Hello",
        },
        components: {
          "my-component2": myComponent2,
        },
      });
    </script>
  </body>
</html>
 ```





## çˆ¶å­ç»„ä»¶çš„é€šä¿¡ props & $emit ğŸ”¥

props ä¸º properties ç¼©å†™

åœºæ™¯1ï¼šçˆ¶ä¼ å­ï¼Ÿæ¯”å¦‚è¯·æ±‚åç«¯è·å–çš„è½®æ’­å›¾urlæ•°ç»„ï¼Œå¦‚ä½•ä¼ é€’åˆ°è½®æ’­å›¾å­ç»„ä»¶ï¼Ÿç­‰ç­‰ã€‚ã€‚ã€‚

åœºæ™¯2ï¼šå­ä¼ çˆ¶ï¼Ÿæ¯”å¦‚ä¸€ä¸ªé¡µé¢æœ‰å¤šä¸ªè‡ªç»„ä»¶æ„æˆï¼Œç‚¹å‡»ä¸€ä¸ªè‡ªç»„ä»¶åï¼Œçˆ¶ç»„ä»¶éœ€è¦åˆ‡æ¢å¦ä¸€ä¸ªè‡ªç»„ä»¶çš„æ•°æ®ï¼Œå¦‚ä½•å‘äº‹ä»¶é€šçŸ¥ï¼Ÿ

å¦‚ä½•è¿›è¡Œçˆ¶å­ç»„ä»¶çš„é€šä¿¡ï¼Ÿ

*   æ–¹å¼1ï¼šé€šè¿‡ **props å‘å­ç»„ä»¶ä¼ é€’æ•°æ®**
*   æ–¹å¼2ï¼šé€šè¿‡**è‡ªå®šä¹‰äº‹ä»¶ $emit å‘çˆ¶ç»„ä»¶å‘é€æ¶ˆæ¯**



### çˆ¶ä¼ å­â€”props

props çš„å€¼æœ‰ä¸¤ç§æ–¹å¼ï¼š

*   **å­—ç¬¦ä¸²æ•°ç»„**ï¼šæ•°ç»„ä¸­çš„å­—ç¬¦ä¸²å°±æ˜¯ä¼ é€’æ—¶çš„åç§°
*   **å¯¹è±¡**ï¼šå¯¹è±¡å¯ä»¥è®¾ç½®ä¼ é€’æ—¶çš„ç±»å‹ï¼ˆæœ‰ç±»å‹é™åˆ¶ï¼‰ï¼Œé»˜è®¤å€¼ç­‰ã€‚æ¨è
    *   `type` å¯ä»¥æ˜¯ä¸‹åˆ—åŸç”Ÿæ„é€ å‡½æ•°ä¸­çš„ä¸€ä¸ªï¼š
        -   `String`
        -   `Number`
        -   `Boolean`
        -   `Array`
        -   `Object`
        -   `Date`
        -   `Function`
        -   `Symbol`
    *   `type` è¿˜å¯ä»¥æ˜¯ä¸€ä¸ª**è‡ªå®šä¹‰çš„æ„é€ å‡½æ•°**ï¼Œå¹¶ä¸”é€šè¿‡ `instanceof` æ¥è¿›è¡Œæ£€æŸ¥ç¡®è®¤
    *   æ³¨æ„**é©¼å³°å‘½å**æ—¶`v-bind`çš„åç§°é—®é¢˜ï¼Œæ¨èä½¿ç”¨é©¼å³°ï¼

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <my-component
        v-bind:c-message="message"
        :cmovies="movies"
        :author="author"
        :student="student"
      ></my-component>
      <hr />
      <my-component></my-component>
    </div>

    <template id="myComponent">
      <!-- templateä¸­åªèƒ½åŒ…å«ä¸€ä¸ªrootå…ƒç´  -->
      <div>
        <div>{{cMessage}}</div>
        <ul>
          <li v-for="movie in cmovies">{{movie}}</li>
        </ul>
        <div>{{author}}</div>
        <div>{{student}}</div>
      </div>
    </template>

    <script src="/lib/vue.js"></script>
    <script>
      class Person {
        constructor(firstName, lastName) {
          this.firstName = firstName;
          this.lastName = lastName;
        }
      }

      function Person2(firstName, lastName) {
        this.firstName = firstName;
        this.lastName = lastName;
      }

      // å¤§é©¼å³°æ˜¯ä¸ºäº†æ–¹ä¾¿æ³¨å†Œç»„ä»¶æ—¶ä½¿ç”¨ES6å¯¹è±¡è¯­æ³•
      const MyComponent = {
        template: "#myComponent",
        data() {
          return {};
        },
        // 1 å­—ç¬¦ä¸²æ•°ç»„ï¼Œä¸å¸¸ç”¨
        // props: ["cmessage", "cmovies"],

        // 2 å¯¹è±¡ï¼Œå¸¸ç”¨
        // 2.1 ç±»å‹é™åˆ¶
        // props: {
        //   cmessage: [String, Number], // å¤šä¸ªç±»å‹
        //   cmovies: Array,
        // },

        // 2.2 å¸¦æœ‰é»˜è®¤å€¼ï¼Œå¿…ä¼ å€¼
        props: {
          // é©¼å³°å‘½åæ—¶ï¼Œv-bindå¤„å¿…é¡»ä½¿ç”¨c-messageæ¥ç»‘å®šï¼Œå…¶ä»–åœ°æ–¹å¯ä»¥ä½¿ç”¨é©¼å³°
          cMessage: {
            type: [String, Number], // å¤šä¸ªç±»å‹
            default: "Hello MyComponent",
            required: true, // æ²¡æœ‰æä¾›å€¼ä¼šæŠ¥é”™ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šå…ˆæ˜¾ç¤ºé»˜è®¤å€¼
            // è‡ªå®šä¹‰éªŒè¯ä¼ å…¥çš„å€¼
            validator(value) {
              console.log(value);
              // ä¼ å…¥çš„å€¼å¿…é¡»ä¸ºæ•°ç»„å…¶ä¸­ä¸€ä¸ª
              return ["Hello", "World"].indexOf(value) > -1;
            },
          },
          cmovies: {
            type: Array,
            // æ–°ç‰ˆæœ¬åœ¨ default æ˜¯ Object æˆ– Array æ—¶ï¼Œè¿”å›å€¼å¿…é¡»æ˜¯ function
            default() {
              return ["ä¸šç«çš„å‘æ—¥è‘µ", "æ¼†é»‘çš„è¿½è¸ªè€…"];
            },
            required: true, // æ²¡æœ‰æä¾›å€¼ä¼šæŠ¥é”™ï¼Œä½†æ˜¯è¿˜æ˜¯ä¼šå…ˆæ˜¾ç¤ºé»˜è®¤å€¼
          },
          author: {
            // è‡ªå®šä¹‰ç±»å‹
            type: Person,
          },
          student: {
            // è‡ªå®šä¹‰ç±»å‹
            type: Person,
          },
        },
      };

      const author = new Person("san", "zhang");
      const student = new Person2("si", "li");

      // root æ ¹ç»„ä»¶
      const vm = new Vue({
        el: "#app",
        data: {
          message: "Hello",
          movies: [
            "å¼•çˆ†æ‘©å¤©æ¥¼",
            "è¿·å®«çš„åå­—è·¯å£",
            "æœˆå…‰ä¸‹çš„é­”æœ¯å¸ˆ",
            "æ²‰é»˜çš„åäº”åˆ†é’Ÿ",
          ],
          author,
          student,
        },
        methods: {},
        components: {
          MyComponent,
        },
      });
    </script>
  </body>
</html>
```







### å­ä¼ çˆ¶â€”$emit å‘å‡ºè‡ªå®šä¹‰äº‹ä»¶

*   åœ¨**å­ç»„ä»¶ä¸­**ï¼Œé€šè¿‡`$emit('è‡ªå®šä¹‰äº‹ä»¶å'[,params])`å‘é€äº‹ä»¶ï¼Œæ¥**è§¦å‘å­ç»„ä»¶ä¸Šç»‘å®šçš„è‡ªå®šä¹‰äº‹ä»¶**
*   åœ¨**çˆ¶ç»„ä»¶ä¸­**ï¼Œé€šè¿‡`v-on`æ¥**ç›‘å¬å­ç»„ä»¶çš„è‡ªå®šä¹‰äº‹ä»¶**ï¼Œ**ç»‘å®šåˆ°çˆ¶ç»„ä»¶çš„æ–¹æ³•ä¸­**
*   æ³¨æ„**é©¼å³°**å‘½åé—®é¢˜

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <my-component @category-click="categoryClick"></my-component>
    </div>

    <template id="myComponent">
      <!-- templateä¸­åªèƒ½åŒ…å«ä¸€ä¸ªrootå…ƒç´  -->
      <div>
        <button v-for="category in categories" @click="btnClick(category)">
          {{category.name}}
        </button>
      </div>
    </template>

    <script src="/lib/vue.js"></script>
    <script>
      // å­ç»„ä»¶
      // å¤§é©¼å³°æ˜¯ä¸ºäº†æ–¹ä¾¿æ³¨å†Œç»„ä»¶æ—¶ä½¿ç”¨ES6å¯¹è±¡è¯­æ³•
      const MyComponent = {
        template: "#myComponent",
        data() {
          return {
            categories: [
              { id: 1, name: "çƒ­é—¨æ¨è" },
              { id: 2, name: "æ‰‹æœºæ•°ç " },
              { id: 3, name: "ç¾å¦†æŠ¤è‚¤" },
              { id: 4, name: "æˆ·å¤–å¥èº«" },
            ],
          };
        },
        methods: {
          btnClick(category) {
            // å‘å‡ºè‡ªå®šä¹‰äº‹ä»¶ï¼Œæ³¨æ„é©¼å³°é—®é¢˜ï¼ï¼ï¼
            this.$emit("category-click", category);
          },
        },
      };
      // root çˆ¶ç»„ä»¶
      const vm = new Vue({
        el: "#app",
        components: {
          MyComponent,
        },
        methods: {
          categoryClick(category) {
            console.log("category", category);
          },
        },
      });
    </script>
  </body>
</html>
```



## å•å‘æ•°æ®æµ ğŸ”¥

æ‰€æœ‰çš„ prop éƒ½ä½¿å¾—å…¶çˆ¶å­ prop ä¹‹é—´å½¢æˆäº†ä¸€ä¸ªå•å‘ä¸‹è¡Œç»‘å®šï¼šçˆ¶çº§ prop çš„æ›´æ–°ä¼šå‘ä¸‹æµåŠ¨åˆ°å­ç»„ä»¶ä¸­ï¼Œä½†æ˜¯åè¿‡æ¥åˆ™ä¸è¡Œã€‚è¿™æ ·ä¼šé˜²æ­¢ä»å­ç»„ä»¶æ„å¤–å˜æ›´çˆ¶çº§ç»„ä»¶çš„çŠ¶æ€ï¼Œä»è€Œå¯¼è‡´ä½ çš„åº”ç”¨çš„æ•°æ®æµå‘éš¾ä»¥ç†è§£ã€‚

é¢å¤–çš„ï¼Œ**æ¯æ¬¡çˆ¶çº§ç»„ä»¶å‘ç”Ÿå˜æ›´æ—¶ï¼Œå­ç»„ä»¶ä¸­æ‰€æœ‰çš„ prop éƒ½å°†ä¼šåˆ·æ–°ä¸ºæœ€æ–°çš„å€¼**ã€‚è¿™æ„å‘³ç€ä½ **ä¸åº”è¯¥åœ¨ä¸€ä¸ªå­ç»„ä»¶å†…éƒ¨æ”¹å˜ prop**ã€‚å¦‚æœä½ è¿™æ ·åšäº†ï¼ŒVue ä¼šåœ¨æµè§ˆå™¨çš„æ§åˆ¶å°ä¸­å‘å‡ºè­¦å‘Šã€‚



### v-bind & @input å®ç°

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <my-component
        :num1="number1"
        :num2="number2"
        @change-number1="changeNumber1"
        @change-number2="changeNumber2"
      ></my-component>
    </div>

    <template id="myComponent">
      <div>
        props:{{num1}} <br />
        data:{{dNum1}} <br />

        props:<input type="text" v-model="num1" />ä¸æ¨èç›´æ¥ä¿®æ”¹<br />
        data:<input
          type="text"
          v-model="dNum1"
        />é€šè¿‡dataä¿®æ”¹ï¼Œä½†æ²¡æœ‰å½±å“çˆ¶ç»„ä»¶ä¸­çš„å€¼<br />
        props:
        <input
          type="text"
          :value="dNum1"
          @input="num1Input"
        />é€šè¿‡$emitä¿®æ”¹çˆ¶ç»„ä»¶ä¸­ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼ï¼Œæ¥é—´æ¥ä¿®æ”¹propså€¼ã€‚ä¿®æ”¹
        dataï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç»‘å®špropsçš„å€¼<br />
        <hr />

        props:{{num2}} <br />
        data:{{dNum2}} <br />
        props:<input type="text" v-model="num2" />ä¸æ¨èç›´æ¥ä¿®æ”¹<br />
        data:<input
          type="text"
          v-model="dNum2"
        />é€šè¿‡dataä¿®æ”¹ï¼Œä½†æ²¡æœ‰å½±å“çˆ¶ç»„ä»¶ä¸­çš„å€¼<br />
        props:
        <input
          type="text"
          :value="dNum2"
          @input="num2Input"
        />é€šè¿‡$emitä¿®æ”¹çˆ¶ç»„ä»¶ä¸­ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼ï¼Œæ¥é—´æ¥ä¿®æ”¹propså€¼ã€‚ä¿®æ”¹
        dataï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç»‘å®špropsçš„å€¼<br />
      </div>
    </template>

    <script src="/lib/vue.js"></script>
    <script>
      const vm = new Vue({
        el: "#app",
        data() {
          return {
            number1: 1,
            number2: 2,
          };
        },
        methods: {
          changeNumber1(value) {
            this.number1 = Number.parseInt(value);
          },
          changeNumber2(value) {
            this.number2 = Number.parseInt(value);
          },
        },
        components: {
          MyComponent: {
            template: "#myComponent",
            data() {
              return {
                dNum1: this.num1,
                dNum2: this.num2,
              };
            },
            props: {
              num1: {
                type: Number,
                default: 1,
                required: true,
              },
              num2: {
                type: Number,
                default: 2,
                required: true,
              },
            },
            methods: {
              num1Input(event) {
                console.log(event.target.value);
                this.$emit("change-number1", event.target.value);

                // æ³¨æ„ï¼Œå­ç»„ä»¶ä¸­ data æ•°æ®ä¸ä¼šéšçˆ¶ç»„ä»¶æ›´æ–°äº†è‡ªç»„ä»¶çš„ props åæ›´æ”¹
                this.dNum1 = event.target.value;
              },
              num2Input(event) {
                console.log(event.target.value);
                this.$emit("change-number2", event.target.value);

                // æ³¨æ„ï¼Œå­ç»„ä»¶ä¸­ data æ•°æ®ä¸ä¼šéšçˆ¶ç»„ä»¶æ›´æ–°äº†è‡ªç»„ä»¶çš„ props åæ›´æ”¹
                this.dNum2 = event.target.value;
              },
            },
          },
        },
      });
    </script>
  </body>
</html>
```

æ¯æ¬¡ç›´æ¥ä¿®æ”¹ props ä¸­æ•°æ®æ§åˆ¶å°å°±ä¼šæŠ¥é”™

```
[Vue warn]: Avoid mutating a prop directly since the value will be overwritten whenever the parent component re-renders. Instead, use a data or computed property based on the prop's value. Prop being mutated: "num1"
```



### watch å®ç°

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <my-component
        :num1="number1"
        :num2="number2"
        @change-number1="changeNumber1"
        @change-number2="changeNumber2"
      ></my-component>
    </div>

    <template id="myComponent">
      <div>
        props:{{num1}} <br />
        data:{{dNum1}} <br />

        props:<input type="text" v-model="num1" />ä¸æ¨èç›´æ¥ä¿®æ”¹<br />
        data:<input
          type="text"
          v-model="dNum1"
        />é€šè¿‡dataä¿®æ”¹ï¼Œä½†æ²¡æœ‰å½±å“çˆ¶ç»„ä»¶ä¸­çš„å€¼<br />
        props:
        <input
          type="text"
          v-model="dNum1"
        />é€šè¿‡$emitä¿®æ”¹çˆ¶ç»„ä»¶ä¸­ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼ï¼Œæ¥é—´æ¥ä¿®æ”¹propså€¼ã€‚ä¿®æ”¹
        dataï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç»‘å®špropsçš„å€¼<br />
        <hr />

        props:{{num2}} <br />
        data:{{dNum2}} <br />
        props:<input type="text" v-model="num2" />ä¸æ¨èç›´æ¥ä¿®æ”¹<br />
        data:<input
          type="text"
          v-model="dNum2"
        />é€šè¿‡dataä¿®æ”¹ï¼Œä½†æ²¡æœ‰å½±å“çˆ¶ç»„ä»¶ä¸­çš„å€¼<br />
        props:
        <input
          type="text"
          v-model="dNum2"
        />é€šè¿‡$emitä¿®æ”¹çˆ¶ç»„ä»¶ä¸­ä¼ é€’ç»™å­ç»„ä»¶çš„å€¼ï¼Œæ¥é—´æ¥ä¿®æ”¹propså€¼ã€‚ä¿®æ”¹
        dataï¼Œä¹Ÿå¯ä»¥ç›´æ¥ç»‘å®špropsçš„å€¼<br />
      </div>
    </template>

    <script src="/lib/vue.js"></script>
    <script>
      const vm = new Vue({
        el: "#app",
        data() {
          return {
            number1: 1,
            number2: 2,
          };
        },
        methods: {
          changeNumber1(value) {
            this.number1 = Number.parseInt(value);
          },
          changeNumber2(value) {
            this.number2 = Number.parseInt(value);
          },
        },
        components: {
          MyComponent: {
            template: "#myComponent",
            data() {
              return {
                dNum1: this.num1,
                dNum2: this.num2,
              };
            },
            props: {
              num1: {
                type: Number,
                default: 1,
                required: true,
              },
              num2: {
                type: Number,
                default: 2,
                required: true,
              },
            },
            // watchåªèƒ½ç›‘å¬dataä¸­æ•°æ®
            watch: {
              dNum1(newValue, oldValue) {
                this.$emit("change-number1", newValue);
              },
              dNum2(newValue) {
                this.$emit("change-number2", newValue);
              },
            },
          },
        },
      });
    </script>
  </body>
</html>
```





## çˆ¶å­ç»„ä»¶çš„è®¿é—®â€”$refs ğŸ”¥

åŸºæœ¬ä¸Šåªæœ‰ `$refs`ä¼šä½¿ç”¨å¾ˆå¤šï¼Œå…¶ä»–çš„åŸºæœ¬ä¸ä½¿ç”¨



### çˆ¶è®¿é—®å­â€”$children & $refs ğŸ”¥

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <my-component ref="a"></my-component>
      <my-component></my-component>
      <button @click="btnClick">çˆ¶ç»„ä»¶æŒ‰é’®</button>
    </div>

    <template id="myComponent">
      <div>æˆ‘æ˜¯å­ç»„ä»¶</div>
    </template>

    <script src="/lib/vue.js"></script>
    <script>
      const vm = new Vue({
        el: "#app",
        data: {
          message: "Hello",
        },
        methods: {
          btnClick() {
            // $childrenï¼Œæ˜¯æ•°ç»„ï¼Œä½¿ç”¨å¾ˆå°‘
            // console.log(this.$children);
            // this.$children.forEach((child) => {
            //   child.showMessage();
            //   console.log(child.message);
            // });
            // $refsï¼Œæ˜¯å¯¹è±¡ï¼Œé»˜è®¤ä¸ºç©ºï¼Œåªæœ‰æœ‰refå±æ€§çš„æ‰ä¼šæ”¾å…¥è¯¥å¯¹è±¡ä¸­
            console.log(this.$refs.a);
            console.log(this.$refs["a"]);
            this.$refs.a.showMessage();
            console.log(this.$refs.a.message);
          },
        },
        components: {
          MyComponent: {
            template: "#myComponent",
            data() {
              return {
                message: "Hello",
              };
            },
            methods: {
              showMessage() {
                console.log("showMessage");
              },
            },
          },
        },
      });
    </script>
  </body>
</html>
```





### å­è®¿é—®çˆ¶â€”$parent & $root

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <outer-component ref="a"></outer-component>
    </div>

    <template id="outerComponent">
      <div>
        <inner-component></inner-component>
      </div>
    </template>

    <template id="innerComponent">
      <div>
        <div>æˆ‘æ˜¯å­ç»„ä»¶</div>
        <button @click="btnClick">å­ç»„ä»¶æŒ‰é’®</button>
      </div>
    </template>

    <script src="/lib/vue.js"></script>
    <script>
      const vm = new Vue({
        el: "#app",
        data: {
          message: "Hello Vue",
        },
        components: {
          OuterComponent: {
            template: "#outerComponent",
            data() {
              return {
                message: "Hello OuterComponent",
              };
            },
            components: {
              innerComponent: {
                template: "#innerComponent",
                methods: {
                  btnClick() {
                    // æ‰“å°å‡ºçš„ä¸º VueComponentã€‚åŸºæœ¬ä¸ä¼šä½¿ç”¨
                    console.log(this.$parent);
                    console.log(this.$parent.message);

                    // æ‰“å°å‡ºçš„ä¸º Vueã€‚åŸºæœ¬ä¸ä¼šä½¿ç”¨ï¼Œä»¥å Vue å®ä¾‹ä¸­ä»…ä»…ä¼šæ”¾ Router ç­‰ï¼Œä¸ä¼šæ”¾æ•°æ®ï¼Œæ–¹æ³•ç­‰
                    console.log(this.$root);
                    console.log(this.$root.message);
                  },
                },
              },
            },
          },
        },
      });
    </script>
  </body>
</html>
```

