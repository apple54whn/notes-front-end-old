---
title: æ’å€¼è¯­æ³•
date: 2020-12-27 00:30:47
permalink: /pages/49b47f/
categories:
  - Vue
  - åŸºç¡€
tags:
  - 
---
# æ’å€¼è¯­æ³•â€”æ–‡æœ¬

**å°† data ä¸­æ•°æ®æ’å…¥åˆ° HTML æ¨¡ç‰ˆå†…å®¹ä¸­**

## Mustache è¯­æ³• ğŸ”¥

Mustache è¯­æ³•ï¼ŒåŒå¤§æ‹¬å· 

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue</title>
  </head>

  <body>
    <div id="app">
      <h2>{{message}}</h2>
      <h2>{{message}}æé“¶æ²³</h2>
      <!-- è¡¨è¾¾å¼ -->
      <h2>{{lastName + firstName}}</h2>
      <h2>{{lastName + " "+firstName}}</h2>
      <h2>{{lastName}}@{{firstName}}</h2>
      <h2>{{count*2}}</h2>
    </div>

    <script src="./lib/vue.js"></script>
    <script>
      const vm = new Vue({
        el: "#app",
        data: {
          message: "ä½ å¥½ï¼",
          firstName: "ä¸‰",
          lastName: "å¼ ",
          count: 100,
        },
      });
    </script>
  </body>
</html>
```

Mustache æ ‡ç­¾å°†ä¼š**è¢«æ›¿ä»£ä¸ºå¯¹åº” data æ•°æ®å¯¹è±¡ä¸Šå±æ€§çš„å€¼**ã€‚

æ— è®ºä½•æ—¶ï¼Œç»‘å®šçš„ **data** æ•°æ®å¯¹è±¡ä¸Š**å±æ€§å‘ç”Ÿäº†æ”¹å˜**ï¼Œæ’å€¼å¤„çš„å†…å®¹éƒ½ä¼šæ›´æ–°ã€‚

**Mustache ä¸­å­˜æ”¾çš„æ˜¯å˜é‡å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ”¾è¡¨è¾¾å¼ã€æ–¹æ³•ï¼ˆæœ€åéœ€å¸¦æ‹¬å·ï¼‰ï¼ˆä¸æ¨èï¼‰**ï¼Œè‹¥ç”¨**å¼•å·å¼•ç”¨åˆ™è§†ä½œå­—ç¬¦ä¸²**ä¸å†è§£æã€‚



## v-once æŒ‡ä»¤ ğŸ”¥

åªæ¸²æŸ“**å…ƒç´ **å’Œ**ç»„ä»¶**ä¸€æ¬¡ã€‚éšåçš„é‡æ–°æ¸²æŸ“ï¼Œ**å…ƒç´ /ç»„ä»¶åŠå…¶æ‰€æœ‰çš„å­èŠ‚ç‚¹**å°†è¢«è§†ä¸ºé™æ€å†…å®¹å¹¶è·³è¿‡ã€‚è¿™å¯ä»¥ç”¨äº**ä¼˜åŒ–æ›´æ–°æ€§èƒ½**ã€‚é€šè¿‡ä½¿ç”¨ [v-once æŒ‡ä»¤](https://cn.vuejs.org/v2/api/#v-once)ï¼Œä½ ä¹Ÿèƒ½**æ‰§è¡Œä¸€æ¬¡æ€§åœ°æ’å€¼**ï¼Œå½“æ•°æ®æ”¹å˜æ—¶ï¼Œæ’å€¼å¤„çš„å†…å®¹ä¸ä¼šæ›´æ–°ã€‚ä½†è¯·**ç•™å¿ƒè¿™ä¼šå½±å“åˆ°è¯¥èŠ‚ç‚¹ä¸Šçš„å…¶å®ƒæ•°æ®ç»‘å®š**

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <!-- å•ä¸ªå…ƒç´  -->
      <h2>This will change: {{message}}</h2>
      <h2 v-once>This will never change: {{message}}</h2>

      <!-- æœ‰å­å…ƒç´  -->
      <div>
        <h2>{{message}}</h2>
      </div>
      <div v-once>
        <h2>{{message}}</h2>
      </div>

      <!-- ç»„ä»¶ -->
      <my-component v-once :comment="message"></my-component>
      <my-component :comment="message"></my-component>

      <!-- `v-for` æŒ‡ä»¤-->
      <ul>
        <li v-for="i in list" :key="i">{{i}}</li>
      </ul>
      <ul>
        <li v-for="i in list" :key="i" v-once>{{i}}</li>
      </ul>
    </div>

    <script src="/lib/vue.js"></script>
    <script>
      // è¿™é‡Œå†™çš„ç»„ä»¶å¿…é¡»åœ¨ new Vue() å‰å®šä¹‰ï¼
      Vue.component("my-component", {
        data: function () {
          return {
            count: 0,
          };
        },
        props: {
          comment: "",
        },
        template: "<h1>{{comment}} my-component</h1>",
      });

      const vm = new Vue({
        el: "#app",
        data: {
          message: "Test 1",
          list: [1, 2, 3],
        },
        methods: {},
      });
    </script>
  </body>
</html>
```



## v-text  æŒ‡ä»¤

ä½œç”¨å’Œ Mustache ç›¸ä¼¼ï¼Œæ›´æ–°å…ƒç´ çš„ `textContent`ã€‚ä½†æ˜¯**ä¼šè¦†ç›–è¯¥æ ‡ç­¾çš„å†…å®¹**ï¼ä¸çµæ´»ï¼Œä¸€èˆ¬ä½¿ç”¨è¾ƒå°‘ï¼å¦‚æœè¦æ›´æ–°éƒ¨åˆ†çš„ `textContent` ï¼Œéœ€è¦ä½¿ç”¨ `{{ Mustache }}` æ’å€¼ã€‚



## v-html æŒ‡ä»¤ ğŸ”¥

**åŒå¤§æ‹¬å·ä¼šå°†æ•°æ®è§£é‡Šä¸ºæ™®é€šæ–‡æœ¬**ï¼Œè€Œé HTML ä»£ç ã€‚ä¸ºäº†è¾“å‡ºçœŸæ­£çš„ HTMLï¼Œä½ éœ€è¦ä½¿ç”¨ `v-html`[ æŒ‡ä»¤](https://cn.vuejs.org/v2/api/#v-html)ï¼š

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      mustache:
      <span>{{url}}</span><br />

      v-html:
      <span v-html="url"></span><br />

      v-text:
      <span v-text="url"></span><br />
    </div>

    <script src="/lib/vue.js"></script>
    <script>
      const vm = new Vue({
        el: "#app",
        data: {
          message: "Hello",
          url: '<a href="https://www.qq.com">QQ</a>',
        },
        methods: {},
      });
    </script>
  </body>
</html>
```

å±æ€§å€¼ä¼šç›´æ¥ä½œä¸º HTMLâ€”â€”ä¼šå¿½ç•¥è§£æå±æ€§å€¼ä¸­çš„æ•°æ®ç»‘å®šã€‚æ³¨æ„ï¼Œä½ ä¸èƒ½ä½¿ç”¨ `v-html` æ¥å¤åˆå±€éƒ¨æ¨¡æ¿ï¼Œå› ä¸º Vue ä¸æ˜¯åŸºäºå­—ç¬¦ä¸²çš„æ¨¡æ¿å¼•æ“ã€‚åä¹‹ï¼Œå¯¹äºç”¨æˆ·ç•Œé¢ (UI)ï¼Œç»„ä»¶æ›´é€‚åˆä½œä¸ºå¯é‡ç”¨å’Œå¯ç»„åˆçš„åŸºæœ¬å•ä½ã€‚



## v-pre æŒ‡ä»¤ ğŸ”¥

å¦‚`<pre>`ï¼Œ**è·³è¿‡è¿™ä¸ªå…ƒç´ å’Œå®ƒçš„å­å…ƒç´ **çš„**ç¼–è¯‘è¿‡ç¨‹**ã€‚å¯ç”¨æ¥**æ˜¾ç¤ºåŸå§‹ Mustache æ ‡ç­¾**ã€‚è·³è¿‡å¤§é‡æ²¡æœ‰æŒ‡ä»¤çš„èŠ‚ç‚¹ä¼šåŠ å¿«ç¼–è¯‘ã€‚

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
  </head>

  <body>
    <div id="app">
      <span v-pre>{{ this will not be compiled }}</span>
    </div>

    <script src="/lib/vue.js"></script>
    <script>
      const vm = new Vue({
        el: "#app",
      });
    </script>
  </body>
</html>
```



## v-cloak æŒ‡ä»¤

::: tip cloak

æŠ«é£; æ–—ç¯·; å¤§è¡£; æ°…ã€‚è¿™é‡Œä¸ºæŒ¡ä½ä¹‹ç±»çš„æ„æ€ã€‚

åŒºåˆ« clock æ—¶é’Ÿ

:::

è¿™ä¸ªæŒ‡ä»¤**ä¿æŒåœ¨å…ƒç´ ä¸Šç›´åˆ°å…³è”å®ä¾‹ç»“æŸç¼–è¯‘**ï¼Œå¯ä»¥æ®æ­¤æ¥å®ç°åˆ¤æ–­ã€‚

ä¸Šè¿°å«ä¹‰ä¸ºï¼Œåœ¨ Vue ç¼–è¯‘å®Œå‰ HTML ä¸­æœ‰ v-cloak å±æ€§ï¼Œåœ¨ Vue ç¼–è¯‘å®Œåè¯¥å±æ€§è¢«åˆ æ‰ã€‚

åŸºæœ¬ä¹Ÿä¸ä¼šä½¿ç”¨ï¼Œä»¥åè¿™ä¸ªæ¨¡ç‰ˆä¼šæ¸²æŸ“ä¸ºå‡½æ•°ï¼Œå’Œè™šæ‹ŸDOMæœ‰å…³ï¼Œä¸ä¼šæ˜¾ç¤º mustache è¯­æ³•çš„ã€‚

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Title</title>
    <style>
      /* å±æ€§é€‰æ‹©å™¨ */
      [v-cloak] {
        display: none;
      }
    </style>
  </head>

  <body>
    <div id="app">
      <h2 v-cloak>{{message}}</h2>
    </div>

    <script src="/lib/vue.js"></script>
    <script>
      setTimeout(() => {
        const vm = new Vue({
          el: "#app",
          data: {
            message: "Hello",
          },
          methods: {},
        });
      }, 2000);
    </script>
  </body>
</html>
```





## è¿‡æ»¤å™¨ ğŸ”¥

```html
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vue</title>
    <style>
      table {
        /* åˆå¹¶ç»†çº¿è¾¹æ¡† */
        border-collapse: collapse;
        /* å•å…ƒæ ¼ä¹‹é—´æ°´å¹³ã€å‚ç›´è·ç¦»ï¼Œä¸ border-collapse å†²çªï¼Œä¸å¸¸ç”¨ */
        /*border-spacing: 10px 20px;*/
        /* è¡¨æ ¼å±…ä¸­ */
        margin: 100px auto;
      }
      th,
      td {
        /* è¾¹æ¡† */
        border: 1px solid skyblue;
        /* å†…è¾¹è· */
        padding: 20px;
        /* è®©tdå±…ä¸­ï¼Œthæœ¬æ¥å°±æ˜¯å±…ä¸­çš„ */
        text-align: center;
        /* é»˜è®¤æƒ…å†µä¸‹å…ƒç´ åœ¨th,tdä¸­æ˜¯å‚ç›´å±…ä¸­çš„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ vertical-align æ¥ä¿®æ”¹*/
        /* ç”±æ­¤å¯å¾—ï¼Œå¯¹ä¸€ä¸ªçˆ¶å…ƒç´ è®¾ç½® display: table-cellï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ vertical-align æ¥å‚ç›´å±…ä¸­*/
      }
    </style>
  </head>

  <body>
    <div id="app">
      <div v-if="books.length >= 1">
        <table>
          <thead>
            <tr>
              <th></th>
              <th>ä¹¦ç±åç§°</th>
              <th>å‡ºç‰ˆæ—¥æœŸ</th>
              <th>ä»·æ ¼</th>
              <th>è´­ä¹°æ•°é‡</th>
              <th>æ“ä½œ</th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="(book,index) in books" :key="book.id">
              <td>{{book.id}}</td>
              <td>{{book.name}}</td>
              <td>{{book.time}}</td>
              <!-- <td>{{'Â¥'+book.price.toFixed(2)}}</td> -->
              <!-- è¿™ä¹ˆå¤šåœ°æ–¹ä½¿ç”¨ï¼Œå¯ä»¥å¤ç”¨ -->
              <!-- æ–¹å¼1:æ–¹æ³•ã€‚è®¡ç®—å±æ€§ä¹Ÿå¯ä»¥ -->
              <!-- <td>{{formartPrice(book.price)}}</td> -->
              <!-- æ–¹å¼2:è¿‡æ»¤å™¨ -->
              <td>{{book.price | formartPrice}}</td>

              <td>
                <button @click="decrement(book)" :disabled="book.count === 1">
                  -
                </button>
                {{book.count}}
                <button @click="increment(book)">+</button>
              </td>
              <td><button @click="remove(index)">ç§»é™¤</button></td>
            </tr>
          </tbody>
        </table>
        <!-- æ€»ä»·ï¼š{{'Â¥'+totalPrice.toFixed(2)}} -->
        <!-- æ€»ä»·ï¼š{{formartPrice(totalPrice)}} -->
        æ€»ä»·ï¼š{{totalPrice | formartPrice}}
      </div>
      <div v-else>
        è´­ç‰©è½¦ä¸ºç©º
      </div>
    </div>

    <script src="/lib/vue.js"></script>
    <script>
      // vue.jsæ–‡ä»¶ä¸­å®šä¹‰äº† Vue å¯¹è±¡ï¼Œä½¿ç”¨æ—¶å¯ä»¥ new æ„é€ å‡ºï¼Œå¹¶ä¸”å®ƒè¿˜æœ‰å‚æ•°ï¼ˆå¯¹è±¡ç±»å‹ï¼‰
      const vm = new Vue({
        el: "#app",
        // å£°æ˜å¼ç¼–ç¨‹ï¼ˆå£°æ˜å¼æ¸²æŸ“ï¼‰ï¼Œä¸å†ä½¿ç”¨å‘½ä»¤å¼
        data: {
          books: [
            { id: 1, name: "Java", time: "2006-02", price: 110.0, count: 1 },
            { id: 2, name: "Kotlin", time: "2016-03", price: 120.0, count: 1 },
            { id: 3, name: "Clojure", time: "2008-12", price: 112.0, count: 1 },
            { id: 4, name: "JVM", time: "2002-8", price: 200.0, count: 1 },
          ],
        },
        methods: {
          increment(book) {
            book.count++;
          },
          decrement(book) {
            // if (book.count === 1) {
            //   return;
            // }
            book.count--;
          },
          remove(index) {
            this.books.splice(index, 1);
          },
          formartPrice(price) {
            return "Â¥" + price.toFixed(2);
          },
        },
        computed: {
          totalPrice() {
            // let totalPrice = 0;
            // this.books.forEach((item) => {
            //   totalPrice += item.price * item.count;
            // });
            // return totalPrice;

            return this.books.reduce((previous, current, index, arr) => {
              return previous + current.price * current.count;
            }, 0);
          },
        },
        filters: {
          formartPrice(price) {
            return "Â¥" + price.toFixed(2);
          },
        },
      });
    </script>
  </body>
</html>
```



