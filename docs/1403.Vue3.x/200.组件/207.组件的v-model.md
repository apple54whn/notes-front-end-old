---
title: ç»„ä»¶çš„v-model
date: 2022-01-31 02:12:05
permalink: /pages/fcbaec/
categories:
  - x
  - ç»„ä»¶
tags:
  - 
---

# ç»„ä»¶çš„v-model ğŸ”¥

## ä½¿ç”¨ ğŸ”¥

å‰é¢æˆ‘ä»¬åœ¨inputä¸­å¯ä»¥ä½¿ç”¨v-modelæ¥å®ŒæˆåŒå‘ç»‘å®šï¼Œè¿™ä¸ªæ—¶å€™å¾€å¾€ä¼šéå¸¸æ–¹ä¾¿ï¼Œå› ä¸ºv-modelé»˜è®¤å¸®åŠ©æˆ‘ä»¬å®Œæˆäº†ä¸¤ä»¶äº‹ï¼š

* v-bind:valueçš„æ•°æ®ç»‘å®š
* @inputçš„äº‹ä»¶ç›‘å¬

```html
<input v-model="message">
<input :value="message" @input="message = $event.target.value">
```

å¦‚æœæˆ‘ä»¬ç°åœ¨**å°è£…äº†ä¸€ä¸ªç»„ä»¶**ï¼Œå…¶ä»–åœ°æ–¹åœ¨ä½¿ç”¨è¿™ä¸ªç»„ä»¶æ—¶ï¼Œæ˜¯å¦ä¹Ÿå¯ä»¥**ä½¿ç”¨v-modelæ¥åŒæ—¶å®Œæˆè¿™ä¸¤ä¸ªåŠŸèƒ½**å‘¢? ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œvueä¹Ÿæ”¯æŒåœ¨ç»„ä»¶ä¸Šä½¿ç”¨v-modelã€‚ç±»ä¼¼Vue2çš„.sync

**å½“æˆ‘ä»¬åœ¨ç»„ä»¶ä¸Šä½¿ç”¨çš„æ—¶å€™ï¼Œç­‰ä»·äºå¦‚ä¸‹çš„æ“ä½œ**ï¼š

```vue
<template>
    <!-- ç»„ä»¶ä¸Šä½¿ç”¨v-model -->
    <hy-input v-model="message"></hy-input>
    <!-- ç­‰ä»·äºå¦‚ä¸‹ -->
	<hy-input :modelValue="message" @update:model-value="message = $event"></hy-input>

    <h2>{{ message }}</h2>
</template>

<script>
    import HyInput from './HyInput.vue'

    export default {
        components: {
            HyInput,
        },
        data() {
            return {
                message: 'Hello World',
            }
        },
    }
</script>
```

æ‰€ä»¥ hy-input ç»„ä»¶ä¸­ä¹Ÿåº”è¯¥æä¾› modelValue prop å’Œ update:model-value emit

```vue
<template>
  <div>
    <!-- 1.é»˜è®¤ç»‘å®šå’Œäº‹ä»¶å¤„ç†ã€‚äº‹ä»¶è¿˜å¾—buttonè§¦å‘ï¼Œä¸ä¼˜é›… -->
    <!-- <button @click="btnClick">hyinputæŒ‰é’®</button>
    <h2>HyInputçš„message: {{modelValue}}</h2> -->

    <!-- 2.é€šè¿‡inputï¼Œä¹Ÿä¸æ˜¯å¾ˆä¼˜é›… -->
    <!-- <input :value="modelValue" @input="btnClick"> -->

    <!-- 3.ç»‘å®šåˆ°propsä¸­æ˜¯ä¸å¯¹çš„ï¼Œå•å‘æ•°æ®æµï¼Œä¸åº”è¯¥ä¿®æ”¹propsä¸­çš„å€¼ -->
    <!-- <input v-model="modelValue"> -->

    <!-- 4.åˆ©ç”¨è®¡ç®—å±æ€§ï¼ï¼ï¼æ¨èï¼ï¼ï¼-->
    <input v-model="value">

  </div>
</template>

<script>
  export default {
    props: {
      modelValue: String
    },
    emits: ["update:modelValue"],
    computed: {
      value: {
        set(value) {
          this.$emit("update:modelValue", value);
        },
        get() {
          return this.modelValue;
        }
      }
    },
    methods: {
      btnClick(event) {
        this.$emit("update:modelValue", event.target.value);
      }
    }
  }
</script>
```





## ç»‘å®šå¤šä¸ªå€¼ ğŸ”¥

```vue
<template>
	<!-- ç»‘å®šä¸¤ä¸ªv-modelï¼Œæ›´å¤šçš„ä¸€æ ·ï¼ -->
    <hy-input v-model="message" v-model:title="title"></hy-input>

    <h2>{{ message }}</h2>
    <h2>{{ title }}</h2>
</template>

<script>
    import HyInput from './HyInput.vue'

    export default {
        components: {
            HyInput,
        },
        data() {
            return {
                message: 'Hello World',
                title: 'å“ˆå“ˆå“ˆ',
            }
        },
    }
</script>
```

```vue
<template>
  <div>
    <input v-model="value">
    <input v-model="titleData">
  </div>
</template>

<script>
  export default {
    props: {
      modelValue: String,
      title: String 
    },
    emits: ["update:modelValue", "update:title"],
    computed: {
      value: {
        set(value) {
          this.$emit("update:modelValue", value);
        },
        get() {
          return this.modelValue;
        }
      },
      titleData: {
        set(title) {
          this.$emit("update:title", title);
        },
        get() {
          return this.title;
        }
      }
    }
  }
</script>
```

